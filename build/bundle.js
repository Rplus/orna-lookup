var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function l(){return Object.create(null)}function r(e){e.forEach(n)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(t,n,l){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function s(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function h(){return d(" ")}function m(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e){return""===e?null:+e}function v(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function _(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function $(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function x(e,t,n){e.classList[n?"add":"remove"](t)}let k;function w(e){k=e}const q=[],S=[],C=[],O=[],E=Promise.resolve();let L=!1;function M(e){C.push(e)}let A=!1;const B=new Set;function j(){if(!A){A=!0;do{for(let e=0;e<q.length;e+=1){const t=q[e];w(t),z(t.$$)}for(w(null),q.length=0;S.length;)S.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];B.has(t)||(B.add(t),t())}C.length=0}while(q.length);for(;O.length;)O.pop()();L=!1,A=!1,B.clear()}}function z(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const D=new Set;let P;function N(e,t){e&&e.i&&(D.delete(e),e.i(t))}function T(e,t,n,l){if(e&&e.o){if(D.has(e))return;D.add(e),P.c.push((()=>{D.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function H(e,t){e.d(1),t.delete(e.key)}function I(e,t){T(e,1,1,(()=>{t.delete(e.key)}))}function R(e,t,n,l,r,o,i,u,s,c,a,p){let f=e.length,d=o.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],y=new Map,v=new Map;for(h=d;h--;){const e=p(r,o,h),u=n(e);let s=i.get(u);s?l&&s.p(e,t):(s=c(u,e),s.c()),y.set(u,g[h]=s),u in m&&v.set(u,Math.abs(h-m[u]))}const b=new Set,_=new Set;function $(e){N(e,1),e.m(u,a),i.set(e.key,e),a=e.first,d--}for(;f&&d;){const t=g[d-1],n=e[f-1],l=t.key,r=n.key;t===n?(a=t.first,f--,d--):y.has(r)?!i.has(l)||b.has(l)?$(t):_.has(r)?f--:v.get(l)>v.get(r)?(_.add(l),$(t)):(b.add(r),f--):(s(n,i),f--)}for(;f--;){const t=e[f];y.has(t.key)||s(t,i)}for(;d;)$(g[d-1]);return g}function F(e,t,l,i){const{fragment:u,on_mount:s,on_destroy:c,after_update:a}=e.$$;u&&u.m(t,l),i||M((()=>{const t=s.map(n).filter(o);c?c.push(...t):r(t),e.$$.on_mount=[]})),a.forEach(M)}function J(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(q.push(e),L||(L=!0,E.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function G(t,n,o,i,u,s,c,p=[-1]){const f=k;w(t);const d=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:u,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:n.context||[]),callbacks:l(),dirty:p,skip_bound:!1,root:n.target||f.$$.root};c&&c(d.root);let h=!1;if(d.ctx=o?o(t,n.props||{},((e,n,...l)=>{const r=l.length?l[0]:n;return d.ctx&&u(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),h&&W(t,e)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(a)}else d.fragment&&d.fragment.c();n.intro&&N(t.$$.fragment),F(t,n.target,n.anchor,n.customElement),j()}w(f)}class K{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Q=[];function U(t,n=e){let l;const r=new Set;function o(e){if(i(t,e)&&(t=e,l)){const e=!Q.length;for(const e of r)e[1](),Q.push(e,t);if(e){for(let e=0;e<Q.length;e+=2)Q[e][0](Q[e+1]);Q.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,u=e){const s=[i,u];return r.add(s),1===r.size&&(l=n(o)||e),i(t),()=>{r.delete(s),0===r.size&&(l(),l=null)}}}}const V={Bleeding:"流血",Frozen:"冰凍",Burning:"燃燒",Asleep:"入睡",Paralyzed:"麻痺",Blind:"致盲",Stunned:"暈眩",Rot:"腐敗",Blight:"枯萎",Petrified:"石化",Poisoned:"中毒",Drenched:"濕滑",Cursed:"詛咒",Mage:"法師",Thief:"盜賊",Warrior:"戰士",Curative:"藥水",Weapon:"武器",Other:"其他",Item:"物品",Head:"頭部",Armor:"護甲",Legs:"腿部",Accessory:"配件",Material:"材料","Off-hand":"副手",Adornment:"裝飾品",Dark:"黑暗",Water:"水",Fire:"火",Physical:"物理",Holy:"神聖",Earthen:"地",Lightning:"雷",Dragon:"龍",Arcane:"奧術"};function X(e){return function(e){for(let t in e)e[t]=e[t].filter(Boolean).map((e=>({value:e,label:V[e]?`${V[e]} ${e}`:e}))).sort(((e,t)=>Y(e.label,t.label))),e[t].unshift({value:"",label:""});return e}({types:[...new Set(e.map((e=>e.type)))],tiers:[...new Set(e.map((e=>e.tier)))],element:[...new Set(e.map((e=>e.element)))],immunities:[...new Set(e.map((e=>e.immunities?.split(", "))).flat())],causes:[...new Set(e.map((e=>e.causes)).flat())],prevents:[...new Set(e.map((e=>e.prevents)).flat())],equipped_by:[...new Set(e.map((e=>e.equipped_by)).flat().filter(Boolean))]})}function Y(e,t){switch(typeof e){case"number":return e-t;case"string":return e.toLowerCase().localeCompare(t.toLowerCase());default:return e>label_12}}const Z=U({waiting:!0}),ee=U({});fetch("raw-data/item.added.min.json").then((e=>e.json())).then((e=>{e=e.filter(Boolean).map((e=>(e.context=JSON.stringify(e),e.equipped_by=e.equipped_by?.map((e=>e?.name)),e))),ee.set(X(e)),Z.set(e)}));const te=function(){const{subscribe:e,set:t,update:n}=U([]);return{subscribe:e,add:e=>n((t=>(t[t.length]={timestamp:e.timestamp,rules:null},t))),update:(e,t)=>n((n=>{let l=n.findIndex((t=>t.timestamp===e));return n[l].rules=t,n})),remove:e=>n((t=>{let n=t.findIndex((t=>t.timestamp===e));return-1!==n&&t.splice(n,1),t})),reset:()=>t([])}}(),ne=[{prop:"name_zh",type:"text"},{prop:"name",type:"text"},{prop:"tier",type:"number",list:"tiers",min:1,max:10},{prop:"equipped_by",type:"text",list:"equipped_by"},{prop:"context",type:"text"},{prop:"prevents",type:"text",list:"prevents"},{prop:"causes",type:"text",list:"causes"},{prop:"id",type:"number",min:0},{prop:"description",type:"text"},{prop:"type",type:"text",list:"types"},{prop:"boss",type:"checkbox"},{prop:"arena",type:"checkbox"},{prop:"element",type:"text",list:"element"},{prop:"view_distance",type:"checkbox"}];function le(e,t,n){const l=e.slice();return l[19]=t[n],l}function re(e,t,n){const l=e.slice();return l[22]=t[n],l}function oe(t){let n,l,r,o=t[22].prop+"";return{c(){n=f("option"),l=d(o),n.__value=r=t[22].prop,n.value=n.__value},m(e,t){c(e,n,t),s(n,l)},p:e,d(e){e&&a(n)}}}function ie(e){let t,n,l;return{c(){t=f("input"),g(t,"type","text")},m(r,o){c(r,t,o),b(t,e[1]),n||(l=m(t,"input",e[17]),n=!0)},p(e,n){74&n&&t.value!==e[1]&&b(t,e[1])},d(e){e&&a(t),n=!1,l()}}}function ue(e){let t,n,l,r,o;return{c(){t=f("input"),g(t,"type","number"),g(t,"min",n=e[3].min),g(t,"max",l=e[3].max)},m(n,l){c(n,t,l),b(t,e[1]),r||(o=m(t,"input",e[16]),r=!0)},p(e,r){8&r&&n!==(n=e[3].min)&&g(t,"min",n),8&r&&l!==(l=e[3].max)&&g(t,"max",l),74&r&&y(t.value)!==e[1]&&b(t,e[1])},d(e){e&&a(t),r=!1,o()}}}function se(e){let t,n,l,r=e[6][e[3].list],o=[];for(let t=0;t<r.length;t+=1)o[t]=ae(le(e,r,t));return{c(){t=f("select");for(let e=0;e<o.length;e+=1)o[e].c();void 0===e[1]&&M((()=>e[15].call(t)))},m(r,i){c(r,t,i);for(let e=0;e<o.length;e+=1)o[e].m(t,null);_(t,e[1]),n||(l=m(t,"change",e[15]),n=!0)},p(e,n){if(72&n){let l;for(r=e[6][e[3].list],l=0;l<r.length;l+=1){const i=le(e,r,l);o[l]?o[l].p(i,n):(o[l]=ae(i),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}74&n&&_(t,e[1])},d(e){e&&a(t),p(o,e),n=!1,l()}}}function ce(e){let t,n,l,o,i,u,p,y,v;return{c(){t=f("label"),n=d("T\n      "),l=f("input"),o=h(),i=f("label"),u=f("input"),p=d("\n      F"),g(l,"type","radio"),l.__value="1",l.value=l.__value,e[13][0].push(l),g(u,"type","radio"),u.__value="0",u.value=u.__value,e[13][0].push(u)},m(r,a){c(r,t,a),s(t,n),s(t,l),l.checked=l.__value===e[1],c(r,o,a),c(r,i,a),s(i,u),u.checked=u.__value===e[1],s(i,p),y||(v=[m(l,"change",e[12]),m(u,"change",e[14])],y=!0)},p(e,t){74&t&&(l.checked=l.__value===e[1]),74&t&&(u.checked=u.__value===e[1])},d(n){n&&a(t),e[13][0].splice(e[13][0].indexOf(l),1),n&&a(o),n&&a(i),e[13][0].splice(e[13][0].indexOf(u),1),y=!1,r(v)}}}function ae(e){let t,n,l;return{c(){t=f("option"),t.__value=n=e[19].value,t.value=t.__value,g(t,"label",l=e[19].label)},m(e,n){c(e,t,n)},p(e,r){72&r&&n!==(n=e[19].value)&&(t.__value=n,t.value=t.__value),72&r&&l!==(l=e[19].label)&&g(t,"label",l)},d(e){e&&a(t)}}}function pe(e){let t,n,l,r,o,i;return{c(){t=f("select"),n=f("option"),n.textContent="=",l=f("option"),l.textContent="+",r=f("option"),r.textContent="-",n.__value="=",n.value=n.__value,l.__value="+",l.value=l.__value,r.__value="-",r.value=r.__value,void 0===e[2]&&M((()=>e[18].call(t)))},m(u,a){c(u,t,a),s(t,n),s(t,l),s(t,r),_(t,e[2]),o||(i=m(t,"change",e[18]),o=!0)},p(e,n){4&n&&_(t,e[2])},d(e){e&&a(t),o=!1,i()}}}function fe(t){let n,l,i,u,y,v,b,$,x,k=ne,w=[];for(let e=0;e<k.length;e+=1)w[e]=oe(re(t,k,e));function q(e,t){return"checkbox"===e[3].type?ce:e[3].list?se:"number"===e[3].type?ue:"text"===e[3].type?ie:void 0}let S=q(t),C=S&&S(t),O="number"===t[3].type&&pe(t);return{c(){n=f("div"),l=f("button"),l.textContent="x",i=h(),u=f("select");for(let e=0;e<w.length;e+=1)w[e].c();y=d("}"),v=h(),C&&C.c(),b=h(),O&&O.c(),void 0===t[4]&&M((()=>t[10].call(u))),g(n,"class","filters")},m(e,r){c(e,n,r),s(n,l),s(n,i),s(n,u);for(let e=0;e<w.length;e+=1)w[e].m(u,null);s(u,y),_(u,t[4]),t[11](u),s(n,v),C&&C.m(n,null),s(n,b),O&&O.m(n,null),$||(x=[m(l,"click",(function(){o(t[8](t[0]))&&t[8](t[0]).apply(this,arguments)})),m(u,"change",t[10]),m(u,"change",t[7])],$=!0)},p(e,[l]){if(t=e,0&l){let e;for(k=ne,e=0;e<k.length;e+=1){const n=re(t,k,e);w[e]?w[e].p(n,l):(w[e]=oe(n),w[e].c(),w[e].m(u,y))}for(;e<w.length;e+=1)w[e].d(1);w.length=k.length}16&l&&_(u,t[4]),S===(S=q(t))&&C?C.p(t,l):(C&&C.d(1),C=S&&S(t),C&&(C.c(),C.m(n,b))),"number"===t[3].type?O?O.p(t,l):(O=pe(t),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i:e,o:e,d(e){e&&a(n),p(w,e),t[11](null),C&&C.d(),O&&O.d(),$=!1,r(x)}}}function de(e,t,n){let l,r,o,i,s;u(e,ee,(e=>n(6,s=e)));let c,{timestamp:a}=t,{rules:p}=t;return e.$$set=e=>{"timestamp"in e&&n(0,a=e.timestamp),"rules"in e&&n(9,p=e.rules)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=ne.find((e=>e.prop===l))),31&e.$$.dirty&&te.update(a,{prop:l,type:r.type,value:o,comparator:i})},n(4,l="name_zh"),n(1,o=null),n(2,i="="),[a,o,i,r,l,c,s,function(){n(1,o=null),console.log({select:c}),c.quer},function(e){te.remove(e)},p,function(){l=$(this),n(4,l)},function(e){S[e?"unshift":"push"]((()=>{c=e,n(5,c)}))},function(){o=this.__value,n(1,o),n(3,r),n(4,l)},[[]],function(){o=this.__value,n(1,o),n(3,r),n(4,l)},function(){o=$(this),n(1,o),n(3,r),n(4,l)},function(){o=y(this.value),n(1,o),n(3,r),n(4,l)},function(){o=this.value,n(1,o),n(3,r),n(4,l)},function(){i=$(this),n(2,i)}]}class he extends K{constructor(e){super(),G(this,e,de,fe,i,{timestamp:0,rules:9})}}function me(e,t){if(e)return t?ge(e.image,16):(e.deadProxyImage,ye(e.image))}function ge(e,t=96){return`https://images.weserv.nl/?w=${t}&il&url=${ye(e)}`}function ye(e){return`https://orna.guide/static/orna/img/${e}`}function ve(e,t,n){const l=e.slice();return l[17]=t[n],l}function be(e,t,n){const l=e.slice();return l[20]=t[n],l}function _e(e,t,n){const l=e.slice();return l[23]=t[n],l}function $e(e,n){let l,r,o,i;const u=[n[23]];let p={};for(let e=0;e<u.length;e+=1)p=t(p,u[e]);return r=new he({props:p}),{key:e,first:null,c(){var e;l=f("li"),(e=r.$$.fragment)&&e.c(),o=h(),this.first=l},m(e,t){c(e,l,t),F(r,l,null),s(l,o),i=!0},p(e,t){n=e;const l=64&t?function(e,t){const n={},l={},r={$$scope:1};let o=e.length;for(;o--;){const i=e[o],u=t[o];if(u){for(const e in i)e in u||(l[e]=1);for(const e in u)r[e]||(n[e]=u[e],r[e]=1);e[o]=u}else for(const e in i)r[e]=1}for(const e in l)e in n||(n[e]=void 0);return n}(u,[(o=n[23],"object"==typeof o&&null!==o?o:{})]):{};var o;r.$set(l)},i(e){i||(N(r.$$.fragment,e),i=!0)},o(e){T(r.$$.fragment,e),i=!1},d(e){e&&a(l),J(r)}}}function xe(e){let t,n,l,o,i,u,$,k,w,q,S,C,O,E,L,A,B,j,z,D,P,N,T,I,F=e[0].length+"",J=[],W=new Map,G=e[3],K=[];for(let t=0;t<G.length;t+=1)K[t]=ke(be(e,G,t));let Q=e[0].slice(0,e[5]);const U=e=>e[17].id;for(let t=0;t<Q.length;t+=1){let n=ve(e,Q,t),l=U(n);W.set(l,J[t]=we(l,n))}return{c(){t=f("div"),n=f("div"),l=d("排序:\n      "),o=f("select");for(let e=0;e<K.length;e+=1)K[e].c();i=h(),u=f("input"),$=h(),k=f("details"),w=f("summary"),q=d("顯示數量\n        "),S=f("input"),C=d("\n        / "),O=d(F),E=h(),L=f("div"),A=d("總數\n        "),B=f("input"),j=d("\n        以下秀圖"),z=h(),D=f("hr"),P=h(),N=f("ul");for(let e=0;e<J.length;e+=1)J[e].c();void 0===e[1]&&M((()=>e[11].call(o))),g(u,"id","sortDir"),g(u,"type","checkbox"),g(u,"class","svelte-12q0ylg"),g(S,"class","text-center"),g(S,"type","number"),g(S,"min","5"),g(S,"max","2000"),g(S,"step","5"),g(B,"class","text-center"),g(B,"type","number"),g(B,"min","1"),g(B,"max","50"),g(t,"class","nav svelte-12q0ylg"),g(N,"class","items svelte-12q0ylg"),x(N,"showDetails",e[7])},m(r,a){c(r,t,a),s(t,n),s(n,l),s(n,o);for(let e=0;e<K.length;e+=1)K[e].m(o,null);_(o,e[1]),s(n,i),s(n,u),u.checked=e[2],s(t,$),s(t,k),s(k,w),s(w,q),s(w,S),b(S,e[5]),s(w,C),s(w,O),s(k,E),s(k,L),s(L,A),s(L,B),b(B,e[4]),s(L,j),c(r,z,a),c(r,D,a),c(r,P,a),c(r,N,a);for(let e=0;e<J.length;e+=1)J[e].m(N,null);T||(I=[m(o,"change",e[11]),m(u,"change",e[12]),m(S,"input",e[13]),m(B,"input",e[14])],T=!0)},p(e,t){if(8&t){let n;for(G=e[3],n=0;n<G.length;n+=1){const l=be(e,G,n);K[n]?K[n].p(l,t):(K[n]=ke(l),K[n].c(),K[n].m(o,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=G.length}10&t&&_(o,e[1]),4&t&&(u.checked=e[2]),32&t&&y(S.value)!==e[5]&&b(S,e[5]),1&t&&F!==(F=e[0].length+"")&&v(O,F),16&t&&y(B.value)!==e[4]&&b(B,e[4]),33&t&&(Q=e[0].slice(0,e[5]),J=R(J,t,U,1,e,Q,W,N,H,we,null,ve)),128&t&&x(N,"showDetails",e[7])},d(e){e&&a(t),p(K,e),e&&a(z),e&&a(D),e&&a(P),e&&a(N);for(let e=0;e<J.length;e+=1)J[e].d();T=!1,r(I)}}}function ke(e){let t,n,l;return{c(){t=f("option"),t.__value=n=e[20],t.value=t.__value,g(t,"label",l=e[20])},m(e,n){c(e,t,n)},p(e,r){8&r&&n!==(n=e[20])&&(t.__value=n,t.value=t.__value),8&r&&l!==(l=e[20])&&g(t,"label",l)},d(e){e&&a(t)}}}function we(e,t){let n,l,r,o,i,u,p,m,y,b,_,$,x,k,w,q,S,C,O,E,L,M,A,B,j,z,D=t[17].name_zh+"",P=t[17].name+"",N=t[17].tier+"",T=JSON.stringify({...t[17],context:null},null," ")+"";return{key:e,first:null,c(){n=f("li"),l=f("details"),r=f("summary"),o=f("ruby"),i=f("rb"),u=d(D),p=h(),m=f("rt"),y=d(P),b=h(),_=f("a"),$=f("sup"),x=d("★"),k=d(N),q=h(),S=f("div"),O=h(),E=f("div"),M=h(),A=f("div"),B=f("pre"),j=d(T),z=h(),g(m,"class","svelte-12q0ylg"),g(o,"class","svelte-12q0ylg"),g($,"class","svelte-12q0ylg"),g(_,"href",w="https://orna.guide/items?show="+t[17].id),g(_,"target","orna.guide"),g(S,"class","item-img-box svelte-12q0ylg"),g(S,"style",C=`--bg: url(${me(t[17])}); --bg-fallback: url(${me(t[17],"small")})`),g(E,"class","item-equipped svelte-12q0ylg"),g(E,"data-by",L=t[17].equipped_by),g(r,"class","svelte-12q0ylg"),g(B,"class","item-pre svelte-12q0ylg"),g(A,"class","item-more"),g(l,"class","item-details svelte-12q0ylg"),g(n,"class","svelte-12q0ylg"),this.first=n},m(e,t){c(e,n,t),s(n,l),s(l,r),s(r,o),s(o,i),s(i,u),s(o,p),s(o,m),s(m,y),s(r,b),s(r,_),s(_,$),s($,x),s($,k),s(r,q),s(r,S),s(r,O),s(r,E),s(l,M),s(l,A),s(A,B),s(B,j),s(n,z)},p(e,n){t=e,33&n&&D!==(D=t[17].name_zh+"")&&v(u,D),33&n&&P!==(P=t[17].name+"")&&v(y,P),33&n&&N!==(N=t[17].tier+"")&&v(k,N),33&n&&w!==(w="https://orna.guide/items?show="+t[17].id)&&g(_,"href",w),33&n&&C!==(C=`--bg: url(${me(t[17])}); --bg-fallback: url(${me(t[17],"small")})`)&&g(S,"style",C),33&n&&L!==(L=t[17].equipped_by)&&g(E,"data-by",L),33&n&&T!==(T=JSON.stringify({...t[17],context:null},null," ")+"")&&v(j,T)},d(e){e&&a(n)}}}function qe(e){let t,n,l,o,i,u,p,d,y,v,b,_,$,x,k,w,q,S=[],C=new Map,O=e[6];const E=e=>e[23].timestamp;for(let t=0;t<O.length;t+=1){let n=_e(e,O,t),l=E(n);C.set(l,S[t]=$e(l,n))}let L=e[0].length&&xe(e);return{c(){t=f("div"),n=f("h1"),n.innerHTML='<a href="https://playorna.com/" target="_blank">Orna RPG</a> items lookup tool',l=h(),o=f("aside"),i=f("button"),i.textContent="+過濾條件",u=h(),p=f("ul");for(let e=0;e<S.length;e+=1)S[e].c();d=h(),y=f("hr"),v=h(),L&&L.c(),b=h(),_=f("hr"),$=h(),x=f("footer"),x.innerHTML='* data &amp; image source: <a href="https://orna.guide/" target="_blank">https://orna.guide/</a>  <br/>\n  * repo: <a href="https://github.com/rplus/orna-lookup" target="_blank">Rplus/orna-lookup</a>',g(n,"class","text-center"),g(t,"class","workspace svelte-12q0ylg"),g(x,"class","svelte-12q0ylg")},m(r,a){c(r,t,a),s(t,n),s(t,l),s(t,o),s(o,i),s(o,u),s(o,p);for(let e=0;e<S.length;e+=1)S[e].m(p,null);s(t,d),s(t,y),s(t,v),L&&L.m(t,null),c(r,b,a),c(r,_,a),c(r,$,a),c(r,x,a),k=!0,w||(q=m(i,"click",e[8]),w=!0)},p(e,[n]){64&n&&(O=e[6],P={r:0,c:[],p:P},S=R(S,n,E,1,e,O,C,p,I,$e,null,_e),P.r||r(P.c),P=P.p),e[0].length?L?L.p(e,n):(L=xe(e),L.c(),L.m(t,null)):L&&(L.d(1),L=null)},i(e){if(!k){for(let e=0;e<O.length;e+=1)N(S[e]);k=!0}},o(e){for(let e=0;e<S.length;e+=1)T(S[e]);k=!1},d(e){e&&a(t);for(let e=0;e<S.length;e+=1)S[e].d();L&&L.d(),e&&a(b),e&&a(_),e&&a($),e&&a(x),w=!1,q()}}}function Se(e,t,n){let l,r,o,i,s,c,a;u(e,Z,(e=>n(10,c=e))),u(e,te,(e=>n(6,a=e)));let p,f=!1,d=[];function h(e){let t=c;return!e||!e.length||1===e.length&&null==e[0].rules?.value?t:(e.map((e=>e.rules)).forEach((e=>{e&&(t=function(e,t){let{prop:n,type:l,value:r,comparator:o}=t;if(!r||!e.length)return e;switch("string"==typeof r&&(r=r.toLowerCase()),"checkbox"===l&&(r=Boolean(+r)),l){case"checkbox":return r?e.filter((e=>e[n])):e.filter((e=>!e[n]));case"number":return e.filter((e=>{switch(o){case"+":return e[n]>=r;case"-":return e[n]<=r;default:return e[n]===r}}));case"text":let t=new RegExp(r,"i");return e.filter((e=>t.test(e[n])));default:return e}}(t,e))})),function(e=d){return e.sort(((e,t)=>{let n=r?1:-1;switch(typeof e[p]){case"string":return e[p].localeCompare(t[p])*n;case"number":return(e[p]-t[p])*n;default:return 0}}))}(t))}function m(){te.add({timestamp:+new Date})}return m(),e.$$.update=()=>{if(1545&e.$$.dirty&&!c.waiting&&!f){n(9,f=!0),n(0,d=c);let e=[...new Set(d.map((e=>Object.keys(e))).flat())];n(3,l=e.filter((e=>{let t=typeof d.find((t=>t[e]))?.[e],n=ne.find((t=>t.prop===e));return"object"!==t&&n?.list}))),l.includes("tier")?n(1,p="tier"):n(1,p=l[0])}70&e.$$.dirty&&n(0,d=h(a)),49&e.$$.dirty&&n(7,s=d.length<=i||o<=i)},n(3,l=[]),n(2,r=!0),n(5,o=50),n(4,i=20),[d,p,r,l,i,o,a,s,m,f,c,function(){p=$(this),n(1,p),n(10,c),n(9,f),n(0,d),n(3,l),n(2,r),n(6,a),n(3,l),n(10,c),n(9,f),n(0,d),n(1,p),n(2,r),n(6,a)},function(){r=this.checked,n(2,r)},function(){o=y(this.value),n(5,o)},function(){i=y(this.value),n(4,i)}]}return new class extends K{constructor(e){super(),G(this,e,Se,qe,i,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
