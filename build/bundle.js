var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function a(e,t,n){e.$$.on_destroy.push(o(t,n))}function u(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function d(){return m(" ")}function h(){return m("")}function g(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function v(e){return function(t){return t.preventDefault(),e.call(this,t)}}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e){return""===e?null:+e}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e,t){e.value=null==t?"":t}function x(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function k(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function w(e,t,n){e.classList[n?"add":"remove"](t)}let q;function z(e){q=e}function S(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const j=[],O=[],D=[],C=[],E=Promise.resolve();let L=!1;function P(e){D.push(e)}let N=!1;const A=new Set;function M(){if(!N){N=!0;do{for(let e=0;e<j.length;e+=1){const t=j[e];z(t),T(t.$$)}for(z(null),j.length=0;O.length;)O.pop()();for(let e=0;e<D.length;e+=1){const t=D[e];A.has(t)||(A.add(t),t())}D.length=0}while(j.length);for(;C.length;)C.pop()();L=!1,N=!1,A.clear()}}function T(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const B=new Set;let I;function H(){I={r:0,c:[],p:I}}function R(){I.r||l(I.c),I=I.p}function F(e,t){e&&e.i&&(B.delete(e),e.i(t))}function J(e,t,n,l){if(e&&e.o){if(B.has(e))return;B.add(e),I.c.push((()=>{B.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function V(e,t){J(e,1,1,(()=>{t.delete(e.key)}))}function W(e,t,n,l,r,s,o,a,u,i,c,p){let f=e.length,m=s.length,d=f;const h={};for(;d--;)h[e[d].key]=d;const g=[],v=new Map,b=new Map;for(d=m;d--;){const e=p(r,s,d),a=n(e);let u=o.get(a);u?l&&u.p(e,t):(u=i(a,e),u.c()),v.set(a,g[d]=u),a in h&&b.set(a,Math.abs(d-h[a]))}const y=new Set,$=new Set;function _(e){F(e,1),e.m(a,c),o.set(e.key,e),c=e.first,m--}for(;f&&m;){const t=g[m-1],n=e[f-1],l=t.key,r=n.key;t===n?(c=t.first,f--,m--):v.has(r)?!o.has(l)||y.has(l)?_(t):$.has(r)?f--:b.get(l)>b.get(r)?($.add(l),_(t)):(y.add(r),f--):(u(n,o),f--)}for(;f--;){const t=e[f];v.has(t.key)||u(t,o)}for(;m;)_(g[m-1]);return g}function G(e){e&&e.c()}function U(e,n,s,o){const{fragment:a,on_mount:u,on_destroy:i,after_update:c}=e.$$;a&&a.m(n,s),o||P((()=>{const n=u.map(t).filter(r);i?i.push(...n):l(n),e.$$.on_mount=[]})),c.forEach(P)}function K(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(j.push(e),L||(L=!0,E.then(M)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(t,r,s,o,a,u,i,p=[-1]){const f=q;z(t);const m=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:r.context||[]),callbacks:n(),dirty:p,skip_bound:!1,root:r.target||f.$$.root};i&&i(m.root);let d=!1;if(m.ctx=s?s(t,r.props||{},((e,n,...l)=>{const r=l.length?l[0]:n;return m.ctx&&a(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),d&&Q(t,e)),n})):[],m.update(),d=!0,l(m.before_update),m.fragment=!!o&&o(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(c)}else m.fragment&&m.fragment.c();r.intro&&F(t.$$.fragment),U(t,r.target,r.anchor,r.customElement),M()}z(f)}class Y{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Z=[];function ee(t,n=e){let l;const r=new Set;function o(e){if(s(t,e)&&(t=e,l)){const e=!Z.length;for(const e of r)e[1](),Z.push(e,t);if(e){for(let e=0;e<Z.length;e+=2)Z[e][0](Z[e+1]);Z.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const u=[s,a];return r.add(u),1===r.size&&(l=n(o)||e),s(t),()=>{r.delete(u),0===r.size&&(l(),l=null)}}}}const te={Bleeding:"流血",Frozen:"冰凍",Burning:"燃燒",Asleep:"入睡",Paralyzed:"麻痺",Blind:"致盲",Stunned:"暈眩",Rot:"腐敗",Blight:"枯萎",Petrified:"石化",Poisoned:"中毒",Drenched:"濕滑",Cursed:"詛咒",Toxic:"劇毒",Lulled:"安份",Mage:"法師",Thief:"盜賊",Warrior:"戰士",Curative:"藥水",Weapon:".. 武器",Other:"其他",Item:"物品",Head:". 頭部",Armor:".. 護甲",Legs:"... 腿部",Accessory:"... 配件",Material:"材料","Off-hand":".. 副手",Adornment:"裝飾品",Dark:"闇",Water:"水",Fire:"火",Physical:"物",Holy:"光",Earthen:"土",Lightning:"雷",Dragon:"龍",Arcane:"奧","Fire Def":".火抗","Water Def":".水抗","Earth Def":".土抗","Lightning Def":".雷抗","Holy Def":".光抗","Dark Def":".闇抗","stats.attack":"物攻","stats.magic":"魔攻","stats.defense":"物防","stats.ward":"護盾","stats.dexterity":"敏捷","stats.mana":"魔力","stats.crit":"暴擊","stats.resistance":"魔防","stats.hp":"血量"};function ne(e){return function(e){for(let t in e)e[t]=e[t].filter(Boolean).map((e=>({value:e,label:te[e]?`${te[e]} ${e}`:e}))).sort(((e,t)=>le(e.label,t.label))),e[t].unshift({value:"",label:""});return e}({types:[...new Set(e.map((e=>e.type)))],tiers:[...new Set(e.map((e=>e.tier)))],element:[...new Set(e.map((e=>e.element)))],immunities:[...new Set(e.map((e=>e.immunities?.split(", "))).flat())],causes:[...new Set(e.map((e=>e.causes)).flat())],prevents:[...new Set(e.map((e=>e.prevents)).flat())],gives:[...new Set(e.map((e=>e.gives)).flat())],cures:[...new Set(e.map((e=>e.cures)).flat())],equipped_by:[...new Set(e.map((e=>e.equipped_by)).flat().filter(Boolean))]})}function le(e,t){switch(typeof e){case"number":return e-t;case"string":return e.toLowerCase().localeCompare(t.toLowerCase());default:return e>label_12}}function re(e){return te[e]||e}function se(e,t){return e-t}function oe(e){return{timestamp:+new Date,rule:{prop:e.prop,value:ae(e.value,e.type),type:e.type,comparator:"="}}}function ae(e,t){switch(t){case"number":return+e;case"text":default:return String(e)}return e}function ue(e){return oe({prop:"name_zh",value:e||"",type:"text"})}function ie(e,t){return t.tier-e.tier}const ce=[{prop:"name_zh",label:"name_zh",type:"text",sort:!0},{prop:"name",label:"name_en",type:"text",sort:!0},{prop:"tier",label:"Tier ★",type:"number",list:"tiers",min:1,max:10,sort:!0},{prop:"equipped_by",label:"穿戴者",type:"text",list:"equipped_by"},{prop:"prevents",label:"-免疫(敵)",type:"text",list:"prevents"},{prop:"cures",label:"-治癒(己)",type:"text",list:"cures"},{prop:"causes",label:"+造成(敵)",type:"text",list:"causes"},{prop:"gives",label:"+給予(己)",type:"text",list:"gives"},{prop:"type",label:"裝備類型",type:"text",list:"types",sort:!0},{prop:"element",label:"元素",type:"text",list:"element",sort:!0},{prop:"boss",label:"👿 BOSS",type:"checkbox"},{prop:"arena",label:"🏟️ 競技場",type:"checkbox"},{prop:"view_distance",label:"👁️ +視野",type:"checkbox"},{prop:"materials",label:"材料id",type:"number",checkId:!0},{prop:"dropped_by",label:"掉落者id",type:"number",checkId:!0},{prop:"stats.attack",label:".物攻",type:"number",sort:!0},{prop:"stats.magic",label:".魔攻",type:"number",sort:!0},{prop:"stats.defense",label:".物防",type:"number",sort:!0},{prop:"stats.resistance",label:".魔防",type:"number",sort:!0},{prop:"stats.dexterity",label:".敏捷",type:"number",sort:!0},{prop:"stats.crit",label:".暴擊",type:"number",sort:!0},{prop:"stats.ward",label:".護盾",type:"number",sort:!0},{prop:"stats.mana",label:".魔力",type:"number",sort:!0},{prop:"stats.hp",label:".血量",type:"number",sort:!0},{prop:"context",label:"全文搜索",type:"text"},{prop:"id",label:"id",type:"number",min:1,sort:!0}],pe=ee({waiting:!0}),fe=ee({}),me=ee({open:!1});Promise.all(["./data/item.json","./data/monster.json"].map((e=>fetch(e).then((e=>e.json()))))).then((e=>{let t=function(e,t){const n=["name","zh","image","type","element","description"];[e,t].forEach((e=>{e.forEach((e=>{for(let t in e)e[t]?-1===n.indexOf(t)&&(e[t]=JSON.parse(e[t])):delete e[t],e.zh||(e.zh=e.name)}))}));let l=e=>{let n=t.find((t=>t.id===e));return n?{id:n.id,tier:n.tier,name:n.name,name_zh:n.zh}:null},r=t=>{let n=e.find((e=>e.id===t));return n?{id:n.id,tier:n.tier,name:n.name,name_zh:n.zh}:null};return e.forEach((e=>{e.dropped_by=e.dropped_by?.map(l).sort(ie),e.materials=e.materials?.map(r).sort(ie),e.name_zh=e.zh,e.context=JSON.stringify(e)})),{items:e,monsters:t}}(e[0],e[1]);const n=t.items,l=t.monsters;window.ddd=n,fe.set(ne(n)),ne(n),pe.set({items:n,monsters:l})}));let de=new URLSearchParams(location.search),he=ce.find((e=>de.get(e.prop))),ge=he?oe({prop:he.prop,type:he.type,value:de.get(he.prop)}):ue("");const ve=function(){const{subscribe:e,set:t,update:n}=ee([ge]);return{subscribe:e,set:t,update:n,add:e=>n((t=>(t[t.length]=e,t))),remove:e=>n((t=>{let n=t.findIndex((t=>t.timestamp===e));return-1!==n&&t.splice(n,1),t})),reset:()=>t([])}}();function be(e,t,n){const l=e.slice();return l[14]=t[n],l}function ye(e,t,n){const l=e.slice();return l[17]=t[n],l}function $e(t){let n,l,r,s=t[17].label+"";return{c(){n=f("option"),l=m(s),n.__value=r=t[17].prop,n.value=n.__value},m(e,t){i(e,n,t),u(n,l)},p:e,d(e){e&&c(n)}}}function _e(e){let t,n,l;return{c(){t=f("input"),b(t,"type","search")},m(r,s){i(r,t,s),_(t,e[0].rule.value),n||(l=g(t,"input",e[11]),n=!0)},p(e,n){1&n&&_(t,e[0].rule.value)},d(e){e&&c(t),n=!1,l()}}}function xe(e){let t,n,l,r,s;return{c(){t=f("input"),b(t,"type","number"),b(t,"min",n=e[1].min),b(t,"max",l=e[1].max)},m(n,l){i(n,t,l),_(t,e[0].rule.value),r||(s=g(t,"input",e[10]),r=!0)},p(e,r){2&r&&n!==(n=e[1].min)&&b(t,"min",n),2&r&&l!==(l=e[1].max)&&b(t,"max",l),1&r&&y(t.value)!==e[0].rule.value&&_(t,e[0].rule.value)},d(e){e&&c(t),r=!1,s()}}}function ke(e){let t,n,l,r=e[2][e[1].list],s=[];for(let t=0;t<r.length;t+=1)s[t]=qe(be(e,r,t));return{c(){t=f("select");for(let e=0;e<s.length;e+=1)s[e].c();void 0===e[0].rule.value&&P((()=>e[9].call(t)))},m(r,o){i(r,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);x(t,e[0].rule.value),n||(l=g(t,"change",e[9]),n=!0)},p(e,n){if(6&n){let l;for(r=e[2][e[1].list],l=0;l<r.length;l+=1){const o=be(e,r,l);s[l]?s[l].p(o,n):(s[l]=qe(o),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=r.length}1&n&&x(t,e[0].rule.value)},d(e){e&&c(t),p(s,e),n=!1,l()}}}function we(e){let t,n,r,s,o,a,p,h,v;return{c(){t=f("label"),n=m("T\n      "),r=f("input"),s=d(),o=f("label"),a=f("input"),p=m("\n      F"),b(r,"type","radio"),r.__value="1",r.value=r.__value,e[7][0].push(r),b(a,"type","radio"),a.__value="0",a.value=a.__value,e[7][0].push(a)},m(l,c){i(l,t,c),u(t,n),u(t,r),r.checked=r.__value===e[0].rule.value,i(l,s,c),i(l,o,c),u(o,a),a.checked=a.__value===e[0].rule.value,u(o,p),h||(v=[g(r,"change",e[6]),g(a,"change",e[8])],h=!0)},p(e,t){1&t&&(r.checked=r.__value===e[0].rule.value),1&t&&(a.checked=a.__value===e[0].rule.value)},d(n){n&&c(t),e[7][0].splice(e[7][0].indexOf(r),1),n&&c(s),n&&c(o),e[7][0].splice(e[7][0].indexOf(a),1),h=!1,l(v)}}}function qe(e){let t,n,l;return{c(){t=f("option"),t.__value=n=e[14].value,t.value=t.__value,b(t,"label",l=e[14].label)},m(e,n){i(e,t,n)},p(e,r){6&r&&n!==(n=e[14].value)&&(t.__value=n,t.value=t.__value),6&r&&l!==(l=e[14].label)&&b(t,"label",l)},d(e){e&&c(t)}}}function ze(e){let t,n,l,r,s,o;return{c(){t=f("select"),n=f("option"),n.textContent="=",l=f("option"),l.textContent="+",r=f("option"),r.textContent="-",n.__value="=",n.value=n.__value,l.__value="+",l.value=l.__value,r.__value="-",r.value=r.__value,void 0===e[0].rule.comparator&&P((()=>e[12].call(t)))},m(a,c){i(a,t,c),u(t,n),u(t,l),u(t,r),x(t,e[0].rule.comparator),s||(o=g(t,"change",e[12]),s=!0)},p(e,n){1&n&&x(t,e[0].rule.comparator)},d(e){e&&c(t),s=!1,o()}}}function Se(e){let t,n,l;return{c(){t=f("a"),n=m("↗"),b(t,"href",l="./?"+e[0].rule.prop+"="+e[0].rule.value)},m(e,l){i(e,t,l),u(t,n)},p(e,n){1&n&&l!==(l="./?"+e[0].rule.prop+"="+e[0].rule.value)&&b(t,"href",l)},d(e){e&&c(t)}}}function je(t){let n,s,o,a,h,v,y,$,_,k,w=ce,q=[];for(let e=0;e<w.length;e+=1)q[e]=$e(ye(t,w,e));function z(e,t){return"checkbox"===e[1].type?we:e[1].list?ke:"number"===e[1].type?xe:"text"===e[1].type?_e:void 0}let S=z(t),j=S&&S(t),O="number"===t[1].type&&ze(t),D=t[0].rule.value&&Se(t);return{c(){n=f("div"),s=f("button"),s.textContent="x",o=d(),a=f("select");for(let e=0;e<q.length;e+=1)q[e].c();h=m("}"),v=d(),j&&j.c(),y=d(),O&&O.c(),$=d(),D&&D.c(),void 0===t[0].rule.prop&&P((()=>t[5].call(a))),b(n,"class","filters")},m(e,l){i(e,n,l),u(n,s),u(n,o),u(n,a);for(let e=0;e<q.length;e+=1)q[e].m(a,null);u(a,h),x(a,t[0].rule.prop),u(n,v),j&&j.m(n,null),u(n,y),O&&O.m(n,null),u(n,$),D&&D.m(n,null),_||(k=[g(s,"click",(function(){r(t[4](t[0].timestamp))&&t[4](t[0].timestamp).apply(this,arguments)})),g(a,"change",t[5]),g(a,"change",t[3])],_=!0)},p(e,[l]){if(t=e,0&l){let e;for(w=ce,e=0;e<w.length;e+=1){const n=ye(t,w,e);q[e]?q[e].p(n,l):(q[e]=$e(n),q[e].c(),q[e].m(a,h))}for(;e<q.length;e+=1)q[e].d(1);q.length=w.length}1&l&&x(a,t[0].rule.prop),S===(S=z(t))&&j?j.p(t,l):(j&&j.d(1),j=S&&S(t),j&&(j.c(),j.m(n,y))),"number"===t[1].type?O?O.p(t,l):(O=ze(t),O.c(),O.m(n,$)):O&&(O.d(1),O=null),t[0].rule.value?D?D.p(t,l):(D=Se(t),D.c(),D.m(n,null)):D&&(D.d(1),D=null)},i:e,o:e,d(e){e&&c(n),p(q,e),j&&j.d(),O&&O.d(),D&&D.d(),_=!1,l(k)}}}function Oe(e,t,n){let l;a(e,fe,(e=>n(2,l=e)));let{filter:r}=t,s=o(r.rule.prop);function o(e){return ce.find((t=>t.prop===e))}return e.$$set=e=>{"filter"in e&&n(0,r=e.filter)},e.$$.update=()=>{3&e.$$.dirty&&(n(1,s=o(r.rule.prop)),n(0,r.rule.type=s.type,r))},[r,s,l,function(){n(0,r.rule.value="",r)},function(e){ve.remove(e)},function(){r.rule.prop=k(this),n(0,r),n(1,s)},function(){r.rule.value=this.__value,n(0,r),n(1,s)},[[]],function(){r.rule.value=this.__value,n(0,r),n(1,s)},function(){r.rule.value=k(this),n(0,r),n(1,s)},function(){r.rule.value=y(this.value),n(0,r),n(1,s)},function(){r.rule.value=this.value,n(0,r),n(1,s)},function(){r.rule.comparator=k(this),n(0,r),n(1,s)}]}class De extends Y{constructor(e){super(),X(this,e,Oe,je,s,{filter:0})}}function Ce(e,t,n){const l=e.slice();return l[3]=t[n],l[4]=t,l[5]=n,l}function Ee(e,t){let n,l,r,s,o;function a(e){t[2](e,t[3],t[4],t[5])}let p={};return void 0!==t[3]&&(p.filter=t[3]),l=new De({props:p}),O.push((()=>function(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}(l,"filter",a))),{key:e,first:null,c(){n=f("li"),G(l.$$.fragment),s=d(),this.first=n},m(e,t){i(e,n,t),U(l,n,null),u(n,s),o=!0},p(e,n){t=e;const s={};var o;!r&&1&n&&(r=!0,s.filter=t[3],o=()=>r=!1,C.push(o)),l.$set(s)},i(e){o||(F(l.$$.fragment,e),o=!0)},o(e){J(l.$$.fragment,e),o=!1},d(e){e&&c(n),K(l)}}}function Le(e){let t,n,l,r,s,o,a,p=[],m=new Map,h=e[0];const v=e=>e[3].timestamp;for(let t=0;t<h.length;t+=1){let n=Ce(e,h,t),l=v(n);m.set(l,p[t]=Ee(l,n))}return{c(){t=f("aside"),n=f("button"),n.textContent="+過濾條件",l=d(),r=f("ul");for(let e=0;e<p.length;e+=1)p[e].c();b(t,"class","svelte-1qfc33i")},m(c,f){i(c,t,f),u(t,n),u(t,l),u(t,r);for(let e=0;e<p.length;e+=1)p[e].m(r,null);s=!0,o||(a=g(n,"click",e[1]),o=!0)},p(e,[t]){1&t&&(h=e[0],H(),p=W(p,t,v,1,e,h,m,r,V,Ee,null,Ce),R())},i(e){if(!s){for(let e=0;e<h.length;e+=1)F(p[e]);s=!0}},o(e){for(let e=0;e<p.length;e+=1)J(p[e]);s=!1},d(e){e&&c(t);for(let e=0;e<p.length;e+=1)p[e].d();o=!1,a()}}}function Pe(e,t,n){let l;return a(e,ve,(e=>n(0,l=e))),[l,function(){ve.add(ue(""))},function(e,t,n,r){n[r]=e,ve.set(l)}]}class Ne extends Y{constructor(e){super(),X(this,e,Pe,Le,s,{})}}function Ae(e,t){if(e)return t?`https://playorna.com/static/img/${e.image}`:(e.deadProxyImage,Me(e.image))}function Me(e){return`https://orna.guide/static/orna/img/${e}`}function Te(e,t,n){const l=e.slice();return l[6]=t[n],l}function Be(e){let t,n,l,r,s,o=e[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=Ie(Te(e,o,t));return{c(){t=f("details"),n=f("summary"),l=m(e[1]),r=d(),s=f("ul");for(let e=0;e<a.length;e+=1)a[e].c();t.open=!0},m(e,o){i(e,t,o),u(t,n),u(n,l),u(t,r),u(t,s);for(let e=0;e<a.length;e+=1)a[e].m(s,null)},p(e,t){if(2&t&&$(l,e[1]),13&t){let n;for(o=e[0],n=0;n<o.length;n+=1){const l=Te(e,o,n);a[n]?a[n].p(l,t):(a[n]=Ie(l),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}},d(e){e&&c(t),p(a,e)}}}function Ie(e){let t,n,l,r,s,o,a,p,h,y,_,x,k=e[6].tier+"",w=(e[6].name_zh||e[6].name)+"";function q(){return e[5](e[6])}return{c(){t=f("li"),n=f("a"),l=f("small"),r=m("★"),s=m(k),o=m(" -"),a=d(),p=m(w),y=d(),b(n,"href",h="https://orna.guide/"+e[2]+"?show="+e[6].id),b(n,"target","orna.guide")},m(e,c){i(e,t,c),u(t,n),u(n,l),u(l,r),u(l,s),u(l,o),u(n,a),u(n,p),u(t,y),_||(x=g(n,"click",v(q)),_=!0)},p(t,l){e=t,1&l&&k!==(k=e[6].tier+"")&&$(s,k),1&l&&w!==(w=(e[6].name_zh||e[6].name)+"")&&$(p,w),5&l&&h!==(h="https://orna.guide/"+e[2]+"?show="+e[6].id)&&b(n,"href",h)},d(e){e&&c(t),_=!1,x()}}}function He(t){let n,l=t[0]&&Be(t);return{c(){l&&l.c(),n=h()},m(e,t){l&&l.m(e,t),i(e,n,t)},p(e,[t]){e[0]?l?l.p(e,t):(l=Be(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:e,o:e,d(e){l&&l.d(e),e&&c(n)}}}function Re(e,t,n){let{items:l=null}=t,{title:r=""}=t,{type:s="monsters"}=t,{prop:o=""}=t;function a(e){let t=oe({prop:o,value:e,type:"number"});ve.set([t])}return e.$$set=e=>{"items"in e&&n(0,l=e.items),"title"in e&&n(1,r=e.title),"type"in e&&n(2,s=e.type),"prop"in e&&n(4,o=e.prop)},[l,r,s,a,o,e=>a(e.id)]}class Fe extends Y{constructor(e){super(),X(this,e,Re,He,s,{items:0,title:1,type:2,prop:4})}}function Je(e,t,n){const l=e.slice();return l[6]=t[n],l}function Ve(e,t,n){const l=e.slice();return l[9]=t[n],l}function We(e,t,n){const l=e.slice();return l[12]=t[n],l}function Ge(t){let n,l,r,s,o,a,p,h=re(t[12].prop)+"",g=t[12].value+"";return{c(){n=f("tr"),l=f("th"),r=m(h),s=d(),o=f("td"),a=m(g),p=d(),b(l,"class","svelte-17qzbqk")},m(e,t){i(e,n,t),u(n,l),u(l,r),u(n,s),u(n,o),u(o,a),u(n,p)},p:e,d(e){e&&c(n)}}}function Ue(e){let t,n,l,r,s,o,a,h,g,v=e[6][1]+"",y=e[0][e[6][0]],$=[];for(let t=0;t<y.length;t+=1)$[t]=Ke(Ve(e,y,t));return{c(){t=f("div"),n=f("span"),l=m("[ "),r=m(v),s=m(" ]"),a=d(),h=f("br"),g=m("\n            -------\n            ");for(let e=0;e<$.length;e+=1)$[e].c();b(n,"title",o=e[6][0]),b(t,"class","text-right svelte-17qzbqk")},m(e,o){i(e,t,o),u(t,n),u(n,l),u(n,r),u(n,s),u(t,a),u(t,h),u(t,g);for(let e=0;e<$.length;e+=1)$[e].m(t,null)},p(e,n){if(3&n){let l;for(y=e[0][e[6][0]],l=0;l<y.length;l+=1){const r=Ve(e,y,l);$[l]?$[l].p(r,n):($[l]=Ke(r),$[l].c(),$[l].m(t,null))}for(;l<$.length;l+=1)$[l].d(1);$.length=y.length}},d(e){e&&c(t),p($,e)}}}function Ke(e){let t,n,l=re(e[9])+"";return{c(){t=f("div"),n=m(l)},m(e,l){i(e,t,l),u(t,n)},p(e,t){1&t&&l!==(l=re(e[9])+"")&&$(n,l)},d(e){e&&c(t)}}}function Qe(e){let t,n=e[0][e[6][0]]&&Ue(e);return{c(){n&&n.c(),t=h()},m(e,l){n&&n.m(e,l),i(e,t,l)},p(e,l){e[0][e[6][0]]?n?n.p(e,l):(n=Ue(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&c(t)}}}function Xe(e){let t,n,l,r,s,o,a,h,y,_,x,k,w,q,z,S,j,O,D,C,E,L,P,N,A,M,T,B,I,H,R,V,W,Q,X,Y,Z,ee,ne,le,re,se,oe,ae,ue,ie,ce,pe,fe,me,de,he,ge,ve=e[0].name_zh+"",be=e[0].name+"",ye=e[0].tier+"",$e=te[e[0].element]?`[${te[e[0].element]}]`:"",_e=e[0].boss?"👿":"",xe=e[0].arena?"🏟️":"",ke=e[0].view_distance?"👁️":"",we=JSON.stringify({...e[0],context:null},null," ")+"",qe=e[2].length&&function(e){let t,n,l,r,s,o,a,d=e[2],h=[];for(let t=0;t<d.length;t+=1)h[t]=Ge(We(e,d,t));return{c(){t=f("div"),n=m("[ Stats ]\n          "),l=f("br"),r=m("\n          ---------\n          "),s=f("table");for(let e=0;e<h.length;e+=1)h[e].c();var e,o,a;e="cursor",o="pointer",s.style.setProperty(e,o,a?"important":""),b(s,"class","svelte-17qzbqk"),b(t,"class","svelte-17qzbqk")},m(c,p){i(c,t,p),u(t,n),u(t,l),u(t,r),u(t,s);for(let e=0;e<h.length;e+=1)h[e].m(s,null);o||(a=g(s,"click",e[3]),o=!0)},p(e,t){if(4&t){let n;for(d=e[2],n=0;n<d.length;n+=1){const l=We(e,d,n);h[n]?h[n].p(l,t):(h[n]=Ge(l),h[n].c(),h[n].m(s,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}},d(e){e&&c(t),p(h,e),o=!1,a()}}}(e),ze=e[1],Se=[];for(let t=0;t<ze.length;t+=1)Se[t]=Qe(Je(e,ze,t));return re=new Fe({props:{items:e[0].dropped_by,title:"掉落方",type:"monsters",prop:"dropped_by"}}),ae=new Fe({props:{items:e[0].materials,title:"材料",type:"items",prop:"materials"}}),{c(){t=f("details"),n=f("summary"),l=f("ruby"),r=f("rb"),s=m(ve),o=d(),a=f("rt"),h=m(be),y=d(),_=f("a"),x=f("sup"),k=m("★"),w=m(ye),z=d(),S=f("div"),j=f("div"),D=d(),qe&&qe.c(),C=d();for(let e=0;e<Se.length;e+=1)Se[e].c();E=d(),L=f("div"),P=f("div"),A=d(),M=f("div"),T=m($e),B=d(),I=f("div"),H=m(_e),R=d(),V=f("div"),W=m(xe),Q=d(),X=f("div"),Y=m(ke),Z=d(),ee=f("div"),ne=f("div"),le=f("div"),G(re.$$.fragment),se=d(),oe=f("div"),G(ae.$$.fragment),ue=d(),ie=f("details"),ce=f("summary"),pe=d(),fe=f("pre"),me=m(we),b(a,"class","svelte-17qzbqk"),b(l,"class","svelte-17qzbqk"),b(x,"class","svelte-17qzbqk"),b(_,"href",q="https://orna.guide/items?show="+e[0].id),b(_,"target","orna.guide"),b(j,"class","item-img-box svelte-17qzbqk"),b(j,"style",O=`--bg: url(${Ae(e[0])}); --bg-fallback: url(${Ae(e[0],"small")})`),b(P,"class","item-equipped svelte-17qzbqk"),b(P,"title",N=e[0].equipped_by),b(M,"class","item-char svelte-17qzbqk"),b(I,"class","item-char svelte-17qzbqk"),b(V,"class","item-char svelte-17qzbqk"),b(X,"class","item-char svelte-17qzbqk"),b(L,"class","rt-box svelte-17qzbqk"),b(S,"class","item-info svelte-17qzbqk"),b(n,"class","summary svelte-17qzbqk"),b(le,"class","dropped_by"),b(oe,"class","materials"),b(ce,"class","text-right"),b(fe,"class","item-pre svelte-17qzbqk"),b(ne,"class","item-more svelte-17qzbqk"),b(t,"class","item-details svelte-17qzbqk")},m(c,p){i(c,t,p),u(t,n),u(n,l),u(l,r),u(r,s),u(l,o),u(l,a),u(a,h),u(n,y),u(n,_),u(_,x),u(x,k),u(x,w),u(n,z),u(n,S),u(S,j),u(S,D),qe&&qe.m(S,null),u(S,C);for(let e=0;e<Se.length;e+=1)Se[e].m(S,null);u(S,E),u(S,L),u(L,P),u(L,A),u(L,M),u(M,T),u(L,B),u(L,I),u(I,H),u(L,R),u(L,V),u(V,W),u(L,Q),u(L,X),u(X,Y),u(t,Z),u(t,ee),u(ee,ne),u(ne,le),U(re,le,null),u(ne,se),u(ne,oe),U(ae,oe,null),u(ne,ue),u(ne,ie),u(ie,ce),u(ie,pe),u(ie,fe),u(fe,me),de=!0,he||(ge=g(S,"click",v(e[4])),he=!0)},p(e,[t]){if((!de||1&t)&&ve!==(ve=e[0].name_zh+"")&&$(s,ve),(!de||1&t)&&be!==(be=e[0].name+"")&&$(h,be),(!de||1&t)&&ye!==(ye=e[0].tier+"")&&$(w,ye),(!de||1&t&&q!==(q="https://orna.guide/items?show="+e[0].id))&&b(_,"href",q),(!de||1&t&&O!==(O=`--bg: url(${Ae(e[0])}); --bg-fallback: url(${Ae(e[0],"small")})`))&&b(j,"style",O),e[2].length&&qe.p(e,t),3&t){let n;for(ze=e[1],n=0;n<ze.length;n+=1){const l=Je(e,ze,n);Se[n]?Se[n].p(l,t):(Se[n]=Qe(l),Se[n].c(),Se[n].m(S,E))}for(;n<Se.length;n+=1)Se[n].d(1);Se.length=ze.length}(!de||1&t&&N!==(N=e[0].equipped_by))&&b(P,"title",N),(!de||1&t)&&$e!==($e=te[e[0].element]?`[${te[e[0].element]}]`:"")&&$(T,$e),(!de||1&t)&&_e!==(_e=e[0].boss?"👿":"")&&$(H,_e),(!de||1&t)&&xe!==(xe=e[0].arena?"🏟️":"")&&$(W,xe),(!de||1&t)&&ke!==(ke=e[0].view_distance?"👁️":"")&&$(Y,ke);const n={};1&t&&(n.items=e[0].dropped_by),re.$set(n);const l={};1&t&&(l.items=e[0].materials),ae.$set(l),(!de||1&t)&&we!==(we=JSON.stringify({...e[0],context:null},null," ")+"")&&$(me,we)},i(e){de||(F(re.$$.fragment,e),F(ae.$$.fragment,e),de=!0)},o(e){J(re.$$.fragment,e),J(ae.$$.fragment,e),de=!1},d(e){e&&c(t),qe&&qe.d(),p(Se,e),K(re),K(ae),he=!1,ge()}}}function Ye(e,t,n){let{item:l}=t;let r=["stats.attack","stats.magic","stats.defense","stats.ward","stats.dexterity","stats.mana","stats.crit","stats.resistance","stats.hp"].map((e=>({prop:e,value:l[e]}))).filter((e=>e.value));return e.$$set=e=>{"item"in e&&n(0,l=e.item)},[l,[["causes","🔪"],["prevents","🛡️"],["gives","🎁"],["cures","❤️‍🩹"]],r,function(){me.set({open:!0,item:l,stats:r})},function(t){S.call(this,e,t)}]}class Ze extends Y{constructor(e){super(),X(this,e,Ye,Xe,s,{item:0})}}function et(e,t,n){const l=e.slice();return l[17]=t[n],l}function tt(e,t,n){const l=e.slice();return l[20]=t[n],l}function nt(t){let n,l,r;return{c(){n=f("option"),n.__value=l=t[20].prop,n.value=n.__value,b(n,"label",r=t[20].label)},m(e,t){i(e,n,t)},p:e,d(e){e&&c(n)}}}function lt(e,t){let n,l,r,s;return l=new Ze({props:{item:t[17]}}),{key:e,first:null,c(){n=f("li"),G(l.$$.fragment),r=d(),b(n,"class","svelte-1627awp"),this.first=n},m(e,t){i(e,n,t),U(l,n,null),u(n,r),s=!0},p(e,n){t=e;const r={};17&n&&(r.item=t[17]),l.$set(r)},i(e){s||(F(l.$$.fragment,e),s=!0)},o(e){J(l.$$.fragment,e),s=!1},d(e){e&&c(n),K(l)}}}function rt(e){let t,n,r,s,o,a,h,v,k,q,z,S,j,O,D,C,E,L,N,A,M,T,B,I,G,U=e[0].length+"",K=[],Q=new Map,X=e[6],Y=[];for(let t=0;t<X.length;t+=1)Y[t]=nt(tt(e,X,t));let Z=e[0].slice(0,e[4]);const ee=e=>e[17].id;for(let t=0;t<Z.length;t+=1){let n=et(e,Z,t),l=ee(n);Q.set(l,K[t]=lt(l,n))}return{c(){t=f("div"),n=f("div"),r=m("排序:\n    "),s=f("select");for(let e=0;e<Y.length;e+=1)Y[e].c();o=d(),a=f("input"),h=d(),v=f("details"),k=f("summary"),q=m("顯示數量\n      "),z=f("input"),S=m("\n      / "),j=m(U),O=d(),D=f("div"),C=m("總數\n      "),E=f("input"),L=m("\n      以下秀圖"),N=d(),A=f("hr"),M=d(),T=f("ul");for(let e=0;e<K.length;e+=1)K[e].c();void 0===e[1]&&P((()=>e[9].call(s))),b(a,"id","sortDir"),b(a,"type","checkbox"),b(a,"class","svelte-1627awp"),b(z,"class","text-center"),b(z,"type","number"),b(z,"min","5"),b(z,"max","2000"),b(z,"step","5"),b(E,"class","text-center"),b(E,"type","number"),b(E,"min","1"),b(E,"max","50"),b(t,"class","nav svelte-1627awp"),b(T,"class","items svelte-1627awp"),w(T,"showDetails",e[5])},m(l,c){i(l,t,c),u(t,n),u(n,r),u(n,s);for(let e=0;e<Y.length;e+=1)Y[e].m(s,null);x(s,e[1]),u(n,o),u(n,a),a.checked=e[2],u(t,h),u(t,v),u(v,k),u(k,q),u(k,z),_(z,e[4]),u(k,S),u(k,j),u(v,O),u(v,D),u(D,C),u(D,E),_(E,e[3]),u(D,L),i(l,N,c),i(l,A,c),i(l,M,c),i(l,T,c);for(let e=0;e<K.length;e+=1)K[e].m(T,null);B=!0,I||(G=[g(s,"change",e[9]),g(a,"change",e[10]),g(z,"input",e[11]),g(E,"input",e[12])],I=!0)},p(e,[t]){if(64&t){let n;for(X=e[6],n=0;n<X.length;n+=1){const l=tt(e,X,n);Y[n]?Y[n].p(l,t):(Y[n]=nt(l),Y[n].c(),Y[n].m(s,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=X.length}66&t&&x(s,e[1]),4&t&&(a.checked=e[2]),16&t&&y(z.value)!==e[4]&&_(z,e[4]),(!B||1&t)&&U!==(U=e[0].length+"")&&$(j,U),8&t&&y(E.value)!==e[3]&&_(E,e[3]),17&t&&(Z=e[0].slice(0,e[4]),H(),K=W(K,t,ee,1,e,Z,Q,T,V,lt,null,et),R()),32&t&&w(T,"showDetails",e[5])},i(e){if(!B){for(let e=0;e<Z.length;e+=1)F(K[e]);B=!0}},o(e){for(let e=0;e<K.length;e+=1)J(K[e]);B=!1},d(e){e&&c(t),p(Y,e),e&&c(N),e&&c(A),e&&c(M),e&&c(T);for(let e=0;e<K.length;e+=1)K[e].d();I=!1,l(G)}}}function st(e,t,n){let l,r,s,o,u,i;a(e,ve,(e=>n(8,i=e)));let{items:c=[]}=t,p=ce.filter((e=>e.sort)),f=[];function m(e){let t=c;return!e||!e.length||1===e.length&&null==e[0].rule?.value?t:(e.map((e=>e.rule)).forEach((e=>{e&&(t=function(e,t){let{prop:n,type:l,value:r,comparator:s}=t;if(!r||!e.length)return e;let o=ce.find((e=>e.prop===n));if(o.checkId)return e.filter((e=>e[n]?.some((e=>e.id===r))));switch(l){case"checkbox":return Boolean(+r)?e.filter((e=>e[n])):e.filter((e=>!e[n]));case"number":return e.filter((e=>{let t=e[n];switch(s){case"+":return t>=r;case"-":return t<=r;default:return t===r}}));case"text":return e.filter((e=>{if(o.list)return e[n]?.includes(r);return new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i").test(e[n])}));default:return e}}(t,e))})),function(e=c){return e.sort(((e,t)=>{let n=r?1:-1,s=e[l]||-9999,o=t[l]||-9999;switch("object"==typeof o&&(o=-9999),"object"==typeof s&&(s=-9999),typeof s){case"string":return s.localeCompare(o)*n;case"number":return(s-o)*n;default:return 0}}))}(t))}return e.$$set=e=>{"items"in e&&n(7,c=e.items)},e.$$.update=()=>{262&e.$$.dirty&&n(0,f=m(i)),25&e.$$.dirty&&n(5,u=f.length<=o||s<=o)},n(1,l="tier"),n(2,r=!0),n(4,s=50),n(3,o=20),[f,l,r,o,s,u,p,c,i,function(){l=k(this),n(1,l),n(6,p)},function(){r=this.checked,n(2,r)},function(){s=y(this.value),n(4,s)},function(){o=y(this.value),n(3,o)}]}class ot extends Y{constructor(e){super(),X(this,e,st,rt,s,{items:7})}}function at(e,t,n){const l=e.slice();return l[7]=t[n],l[9]=n,l}function ut(e,t,n){const l=e.slice();return l[10]=t[n],l}function it(e,t,n){const l=e.slice();return l[13]=t[n],l}function ct(e){let t;return{c(){t=m("Loading...")},m(e,n){i(e,t,n)},d(e){e&&c(t)}}}function pt(t){let n;return{c(){n=f("blockquote"),n.innerHTML='若點了 [ Assess ] 沒反應，<br/>\n  請至 cors-anywhere ，並點擊按鈕，<br/>\n  以允許將裝備資料傳至 Orna.guide API。<br/> \n  <a href="https://cors-anywhere.herokuapp.com/corsdemo" target="_blank">https://cors-anywhere.herokuapp.com/corsdemo</a>',b(n,"class","svelte-1tc8awj")},m(e,t){i(e,n,t)},p:e,d(e){e&&c(n)}}}function ft(e){let t,n,l,r,s,o,a=100*e[3].quality+"";function p(e,t){return"0"!==e[3].quality?dt:mt}let h=p(e),g=h(e);return{c(){t=f("table"),n=f("caption"),l=m("品質: "),r=m(a),s=m("%"),o=d(),g.c(),b(n,"class","svelte-1tc8awj"),b(t,"class","text-right svelte-1tc8awj")},m(e,a){i(e,t,a),u(t,n),u(n,l),u(n,r),u(n,s),u(t,o),g.m(t,null)},p(e,n){8&n&&a!==(a=100*e[3].quality+"")&&$(r,a),h===(h=p(e))&&g?g.p(e,n):(g.d(1),g=h(e),g&&(g.c(),g.m(t,null)))},d(e){e&&c(t),g.d()}}}function mt(t){let n;return{c(){n=f("caption"),n.textContent="Wrong values.",b(n,"class","svelte-1tc8awj")},m(e,t){i(e,n,t)},p:e,d(e){e&&c(n)}}}function dt(e){let t,n,l,r,s,o,a=Object.keys(e[3].stats),m=[];for(let t=0;t<a.length;t+=1)m[t]=ht(it(e,a,t));let h=Object.values(e[3].stats)[0].values,g=[];for(let t=0;t<h.length;t+=1)g[t]=vt(at(e,h,t));return{c(){t=f("thead"),n=f("tr"),l=f("th"),l.textContent="Lv.",r=d();for(let e=0;e<m.length;e+=1)m[e].c();s=d(),o=f("tbody");for(let e=0;e<g.length;e+=1)g[e].c();b(l,"class","svelte-1tc8awj"),b(o,"class","svelte-1tc8awj")},m(e,a){i(e,t,a),u(t,n),u(n,l),u(n,r);for(let e=0;e<m.length;e+=1)m[e].m(n,null);i(e,s,a),i(e,o,a);for(let e=0;e<g.length;e+=1)g[e].m(o,null)},p(e,t){if(8&t){let l;for(a=Object.keys(e[3].stats),l=0;l<a.length;l+=1){const r=it(e,a,l);m[l]?m[l].p(r,t):(m[l]=ht(r),m[l].c(),m[l].m(n,null))}for(;l<m.length;l+=1)m[l].d(1);m.length=a.length}if(8&t){let n;for(h=Object.values(e[3].stats)[0].values,n=0;n<h.length;n+=1){const l=at(e,h,n);g[n]?g[n].p(l,t):(g[n]=vt(l),g[n].c(),g[n].m(o,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=h.length}},d(e){e&&c(t),p(m,e),e&&c(s),e&&c(o),p(g,e)}}}function ht(e){let t,n,l=re(e[13])+"";return{c(){t=f("th"),n=m(l),b(t,"class","svelte-1tc8awj")},m(e,l){i(e,t,l),u(t,n)},p(e,t){8&t&&l!==(l=re(e[13])+"")&&$(n,l)},d(e){e&&c(t)}}}function gt(e){let t,n,l=e[10].values[e[9]]+"";return{c(){t=f("td"),n=m(l),b(t,"class","svelte-1tc8awj")},m(e,l){i(e,t,l),u(t,n)},p(e,t){8&t&&l!==(l=e[10].values[e[9]]+"")&&$(n,l)},d(e){e&&c(t)}}}function vt(e){let t,n,l,r,s,o=e[9]+1+"",a=Object.values(e[3].stats),h=[];for(let t=0;t<a.length;t+=1)h[t]=gt(ut(e,a,t));return{c(){t=f("tr"),n=f("th"),l=m(o),r=d();for(let e=0;e<h.length;e+=1)h[e].c();s=d(),b(n,"class","svelte-1tc8awj"),b(t,"class","svelte-1tc8awj")},m(e,o){i(e,t,o),u(t,n),u(n,l),u(t,r);for(let e=0;e<h.length;e+=1)h[e].m(t,null);u(t,s)},p(e,n){if(8&n){let l;for(a=Object.values(e[3].stats),l=0;l<a.length;l+=1){const r=ut(e,a,l);h[l]?h[l].p(r,n):(h[l]=gt(r),h[l].c(),h[l].m(t,s))}for(;l<h.length;l+=1)h[l].d(1);h.length=a.length}},d(e){e&&c(t),p(h,e)}}}function bt(t){let n,l,r=t[2]&&ct();function s(e,t){return e[3]?ft:e[2]?void 0:pt}let o=s(t),a=o&&o(t);return{c(){r&&r.c(),n=d(),a&&a.c(),l=h()},m(e,t){r&&r.m(e,t),i(e,n,t),a&&a.m(e,t),i(e,l,t)},p(e,[t]){e[2]?r||(r=ct(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),o===(o=s(e))&&a?a.p(e,t):(a&&a.d(1),a=o&&o(e),a&&(a.c(),a.m(l.parentNode,l)))},i:e,o:e,d(e){r&&r.d(e),e&&c(n),a&&a.d(e),e&&c(l)}}}function yt(t,n,l){let r,s,a,u,i,c,p=e,f=e;t.$$.on_destroy.push((()=>p())),t.$$.on_destroy.push((()=>f()));let{assessData:m={}}=n;return t.$$set=e=>{"assessData"in e&&l(4,m=e.assessData)},t.$$.update=()=>{16&t.$$.dirty&&(l(1,[r,s,a,u]=function(e){const t=ee(!1),n=ee(!1),l=ee(null);async function r(){t.set(!0),n.set(!1);try{const t=await fetch("https://orna.guide/api/v1/assess",{headers:{accept:"*/*","content-type":"application/x-www-form-urlencoded"},referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify(e),method:"POST",mode:"cors"}).then((e=>e.json()));l.set(t)}catch(e){n.set(e)}t.set(!1)}return r(),[l,t,n,r]}(m),r,(l(0,s),p(),p=o(s,(e=>l(2,i=e))),s)),f(),f=o(r,(e=>l(3,c=e))))},[s,r,i,c,m]}class $t extends Y{constructor(e){super(),X(this,e,yt,bt,s,{assessData:4})}}function _t(e,t,n){const l=e.slice();return l[12]=t[n],l[13]=t,l[14]=n,l}function xt(e){let t,n,r,s,o,a,y,_,x,k,w,q,z,S,j,O,D,C,E,L=e[1].item.name_zh+"",P=e[3],N=[];for(let t=0;t<P.length;t+=1)N[t]=kt(_t(e,P,t));let A=e[2]&&wt(e);return{c(){t=f("form"),n=f("table"),r=f("caption"),s=m("品質試算\n            "),o=f("br"),a=m("\n            [ "),y=m(L),_=m(" ] Lv.1"),x=d();for(let e=0;e<N.length;e+=1)N[e].c();k=d(),w=f("div"),q=f("button"),q.textContent="Reset",z=d(),S=f("button"),S.textContent="Assess",j=d(),A&&A.c(),O=h(),b(r,"class","svelte-1vlz5gb"),b(n,"class","assess-table svelte-1vlz5gb"),b(q,"type","reset"),b(S,"type","submit"),b(w,"class","form-ctrl svelte-1vlz5gb")},m(l,c){i(l,t,c),u(t,n),u(n,r),u(r,s),u(r,o),u(r,a),u(r,y),u(r,_),u(n,x);for(let e=0;e<N.length;e+=1)N[e].m(n,null);u(t,k),u(t,w),u(w,q),u(w,z),u(w,S),i(l,j,c),A&&A.m(l,c),i(l,O,c),D=!0,C||(E=[g(q,"click",v(e[5])),g(S,"click",v(e[6]))],C=!0)},p(e,t){if((!D||2&t)&&L!==(L=e[1].item.name_zh+"")&&$(y,L),8&t){let l;for(P=e[3],l=0;l<P.length;l+=1){const r=_t(e,P,l);N[l]?N[l].p(r,t):(N[l]=kt(r),N[l].c(),N[l].m(n,null))}for(;l<N.length;l+=1)N[l].d(1);N.length=P.length}e[2]?A?(A.p(e,t),4&t&&F(A,1)):(A=wt(e),A.c(),F(A,1),A.m(O.parentNode,O)):A&&(H(),J(A,1,1,(()=>{A=null})),R())},i(e){D||(F(A),D=!0)},o(e){J(A),D=!1},d(e){e&&c(t),p(N,e),e&&c(j),A&&A.d(e),e&&c(O),C=!1,l(E)}}}function kt(e){let t,n,r,s,o,a,p,h,v,x,k,w,q,z,S,j,O,D,C,E,L=e[12].prop+"",P=zt(e[12])+"";function N(){e[8].call(a,e[13],e[14])}function A(){e[9].call(w,e[13],e[14])}return{c(){t=f("tr"),n=f("th"),r=m(L),s=d(),o=f("td"),a=f("input"),v=d(),x=f("br"),k=d(),w=f("input"),S=d(),j=f("td"),O=m(P),D=d(),b(n,"class","svelte-1vlz5gb"),b(a,"type","number"),b(a,"max",p=e[12].max),b(a,"min",h=e[12].min),b(a,"step","1"),b(a,"class","svelte-1vlz5gb"),b(w,"type","range"),b(w,"max",q=e[12].max),b(w,"min",z=e[12].min),b(w,"step","1"),b(w,"class","svelte-1vlz5gb"),b(o,"class","text-center svelte-1vlz5gb"),b(j,"class","svelte-1vlz5gb")},m(l,c){i(l,t,c),u(t,n),u(n,r),u(t,s),u(t,o),u(o,a),_(a,e[12].value),u(o,v),u(o,x),u(o,k),u(o,w),_(w,e[12].value),u(t,S),u(t,j),u(j,O),u(t,D),C||(E=[g(a,"input",N),g(w,"change",A),g(w,"input",A)],C=!0)},p(t,n){e=t,8&n&&L!==(L=e[12].prop+"")&&$(r,L),8&n&&p!==(p=e[12].max)&&b(a,"max",p),8&n&&h!==(h=e[12].min)&&b(a,"min",h),8&n&&y(a.value)!==e[12].value&&_(a,e[12].value),8&n&&q!==(q=e[12].max)&&b(w,"max",q),8&n&&z!==(z=e[12].min)&&b(w,"min",z),8&n&&_(w,e[12].value),8&n&&P!==(P=zt(e[12])+"")&&$(O,P)},d(e){e&&c(t),C=!1,l(E)}}}function wt(e){let t,n;return t=new $t({props:{assessData:e[2]}}),{c(){G(t.$$.fragment)},m(e,l){U(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.assessData=e[2]),t.$set(l)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function qt(e){let t,n,r,s,o,a,p,m,h=e[1].item&&xt(e);return{c(){t=f("div"),n=f("div"),r=d(),s=f("main"),h&&h.c(),b(n,"class","overlay svelte-1vlz5gb"),b(s,"class","content svelte-1vlz5gb"),b(t,"class","dialog svelte-1vlz5gb"),t.hidden=o=!e[1].open,b(t,"tabindex","-1")},m(l,o){i(l,t,o),u(t,n),u(t,r),u(t,s),h&&h.m(s,null),e[10](t),a=!0,p||(m=[g(n,"click",e[4]),g(t,"keydown",e[7])],p=!0)},p(e,[n]){e[1].item?h?(h.p(e,n),2&n&&F(h,1)):(h=xt(e),h.c(),F(h,1),h.m(s,null)):h&&(H(),J(h,1,1,(()=>{h=null})),R()),(!a||2&n&&o!==(o=!e[1].open))&&(t.hidden=o)},i(e){a||(F(h),a=!0)},o(e){J(h),a=!1},d(n){n&&c(t),h&&h.d(),e[10](null),p=!1,l(m)}}}function zt(e){return`${(100*e.value/e.oValue).toFixed(1)}%`}function St(e,t,n){let l,r,s,o;function u(){n(2,r=null),function(e,t,n=t){e.set(n)}(me,s={open:!1},s)}return a(e,me,(e=>n(1,s=e))),e.$$.update=()=>{var t;3&e.$$.dirty&&s&&s.stats&&(t=s.stats,n(3,l=t.map((e=>{let[t,n]=[2*e.value,~~(.7*e.value)].sort(se);return{oProp:e.prop,prop:te[e.prop]||e.prop,value:e.value,oValue:e.value,max:n,min:t}}))),setTimeout((()=>{o.querySelector("input")?.select()})))},n(3,l=[]),n(2,r=null),[o,s,r,l,u,function(){n(2,r=null),n(3,l=l.map((e=>({...e,value:e.oValue}))))},function(){if(n(2,r=null),!l.length)return;let e={id:s.item.id},t=l.reduce(((e,t)=>(t.value!==t.oValue&&(e[t.oProp]=t.value),e)),e);if(1===Object.keys(t).length){let e=l[0];t[e.oProp]=e.oValue}n(2,r=t)},function(e){"Escape"===e.code&&u()},function(e,t){e[t].value=y(this.value),n(3,l)},function(e,t){e[t].value=y(this.value),n(3,l)},function(e){O[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class jt extends Y{constructor(e){super(),X(this,e,St,qt,s,{})}}function Ot(t){let n,l,r,s,o,a,u;return{c(){n=f("hr"),l=d(),r=f("hr"),s=d(),o=f("div"),o.textContent="Loading...",a=d(),u=f("hr"),b(o,"class","text-center")},m(e,t){i(e,n,t),i(e,l,t),i(e,r,t),i(e,s,t),i(e,o,t),i(e,a,t),i(e,u,t)},p:e,i:e,o:e,d(e){e&&c(n),e&&c(l),e&&c(r),e&&c(s),e&&c(o),e&&c(a),e&&c(u)}}}function Dt(e){let t,n,l,r,s,o,a,u;return t=new Ne({}),s=new ot({props:{items:e[1]}}),a=new jt({}),{c(){G(t.$$.fragment),n=d(),l=f("hr"),r=d(),G(s.$$.fragment),o=d(),G(a.$$.fragment)},m(e,c){U(t,e,c),i(e,n,c),i(e,l,c),i(e,r,c),U(s,e,c),i(e,o,c),U(a,e,c),u=!0},p(e,t){const n={};2&t&&(n.items=e[1]),s.$set(n)},i(e){u||(F(t.$$.fragment,e),F(s.$$.fragment,e),F(a.$$.fragment,e),u=!0)},o(e){J(t.$$.fragment,e),J(s.$$.fragment,e),J(a.$$.fragment,e),u=!1},d(e){K(t,e),e&&c(n),e&&c(l),e&&c(r),K(s,e),e&&c(o),K(a,e)}}}function Ct(e){let t,n,l,r,s,o,a,p,m,h;const g=[Dt,Ot],v=[];function y(e,t){return e[0]?0:1}return r=y(e),s=v[r]=g[r](e),{c(){t=f("div"),n=f("h1"),n.innerHTML='<a href="https://playorna.com/" target="_blank">Orna RPG</a> items lookup tool',l=d(),s.c(),o=d(),a=f("hr"),p=d(),m=f("footer"),m.innerHTML='* data &amp; image source: <a href="https://orna.guide/" target="_blank">https://orna.guide/</a>  <br/>\n  * repo: <a href="https://github.com/rplus/orna-lookup" target="_blank">Rplus/orna-lookup</a>',b(n,"class","text-center"),b(t,"class","workspace svelte-h6ecfv"),b(m,"class","svelte-h6ecfv")},m(e,s){i(e,t,s),u(t,n),u(t,l),v[r].m(t,null),i(e,o,s),i(e,a,s),i(e,p,s),i(e,m,s),h=!0},p(e,[n]){let l=r;r=y(e),r===l?v[r].p(e,n):(H(),J(v[l],1,1,(()=>{v[l]=null})),R(),s=v[r],s?s.p(e,n):(s=v[r]=g[r](e),s.c()),F(s,1),s.m(t,null))},i(e){h||(F(s),h=!0)},o(e){J(s),h=!1},d(e){e&&c(t),v[r].d(),e&&c(o),e&&c(a),e&&c(p),e&&c(m)}}}function Et(e,t,n){let l;a(e,pe,(e=>n(2,l=e)));let r=!1,s=[];return e.$$.update=()=>{5&e.$$.dirty&&(l.waiting||r||(n(0,r=!0),n(1,s=l.items)))},[r,s,l]}return new class extends Y{constructor(e){super(),X(this,e,Et,Ct,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
