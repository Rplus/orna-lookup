var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function l(){return Object.create(null)}function r(e){e.forEach(n)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,l){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function d(){return m(" ")}function h(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function v(e){return function(t){return t.preventDefault(),e.call(this,t)}}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e){return""===e?null:+e}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function _(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function x(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function k(e,t,n){e.classList[n?"add":"remove"](t)}let w;function S(e){w=e}function j(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const C=[],O=[],E=[],q=[],z=Promise.resolve();let L=!1;function B(e){E.push(e)}let M=!1;const A=new Set;function D(){if(!M){M=!0;do{for(let e=0;e<C.length;e+=1){const t=C[e];S(t),P(t.$$)}for(S(null),C.length=0;O.length;)O.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];A.has(t)||(A.add(t),t())}E.length=0}while(C.length);for(;q.length;)q.pop()();L=!1,M=!1,A.clear()}}function P(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const T=new Set;let N;function R(){N={r:0,c:[],p:N}}function F(){N.r||r(N.c),N=N.p}function H(e,t){e&&e.i&&(T.delete(e),e.i(t))}function I(e,t,n,l){if(e&&e.o){if(T.has(e))return;T.add(e),N.c.push((()=>{T.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function J(e,t){I(e,1,1,(()=>{t.delete(e.key)}))}function V(e,t,n,l,r,o,s,i,a,u,c,p){let f=e.length,m=o.length,d=f;const h={};for(;d--;)h[e[d].key]=d;const v=[],g=new Map,b=new Map;for(d=m;d--;){const e=p(r,o,d),i=n(e);let a=s.get(i);a?l&&a.p(e,t):(a=u(i,e),a.c()),g.set(i,v[d]=a),i in h&&b.set(i,Math.abs(d-h[i]))}const y=new Set,$=new Set;function _(e){H(e,1),e.m(i,c),s.set(e.key,e),c=e.first,m--}for(;f&&m;){const t=v[m-1],n=e[f-1],l=t.key,r=n.key;t===n?(c=t.first,f--,m--):g.has(r)?!s.has(l)||y.has(l)?_(t):$.has(r)?f--:b.get(l)>b.get(r)?($.add(l),_(t)):(y.add(r),f--):(a(n,s),f--)}for(;f--;){const t=e[f];g.has(t.key)||a(t,s)}for(;m;)_(v[m-1]);return v}function W(e){e&&e.c()}function G(e,t,l,s){const{fragment:i,on_mount:a,on_destroy:u,after_update:c}=e.$$;i&&i.m(t,l),s||B((()=>{const t=a.map(n).filter(o);u?u.push(...t):r(t),e.$$.on_mount=[]})),c.forEach(B)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(C.push(e),L||(L=!0,z.then(D)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(t,n,o,s,i,a,u,p=[-1]){const f=w;S(t);const m=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:n.context||[]),callbacks:l(),dirty:p,skip_bound:!1,root:n.target||f.$$.root};u&&u(m.root);let d=!1;if(m.ctx=o?o(t,n.props||{},((e,n,...l)=>{const r=l.length?l[0]:n;return m.ctx&&i(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),d&&Q(t,e)),n})):[],m.update(),d=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);m.fragment&&m.fragment.l(e),e.forEach(c)}else m.fragment&&m.fragment.c();n.intro&&H(t.$$.fragment),G(t,n.target,n.anchor,n.customElement),D()}S(f)}class X{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Y=[];function Z(t,n=e){let l;const r=new Set;function o(e){if(s(t,e)&&(t=e,l)){const e=!Y.length;for(const e of r)e[1](),Y.push(e,t);if(e){for(let e=0;e<Y.length;e+=2)Y[e][0](Y[e+1]);Y.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,i=e){const a=[s,i];return r.add(a),1===r.size&&(l=n(o)||e),s(t),()=>{r.delete(a),0===r.size&&(l(),l=null)}}}}const ee={Bleeding:"流血",Frozen:"冰凍",Burning:"燃燒",Asleep:"入睡",Paralyzed:"麻痺",Blind:"致盲",Stunned:"暈眩",Rot:"腐敗",Blight:"枯萎",Petrified:"石化",Poisoned:"中毒",Drenched:"濕滑",Cursed:"詛咒",Toxic:"劇毒",Lulled:"安份",Mage:"法師",Thief:"盜賊",Warrior:"戰士",Curative:"藥水",Weapon:"武器",Other:"其他",Item:"物品",Head:"頭部",Armor:"護甲",Legs:"腿部",Accessory:"配件",Material:"材料","Off-hand":"副手",Adornment:"裝飾品",Dark:"暗",Water:"水",Fire:"火",Physical:"物",Holy:"光",Earthen:"地",Lightning:"雷",Dragon:"龍",Arcane:"奧",attack:"物攻",magic:"魔攻",defense:"物防",ward:"護盾",dexterity:"敏捷",mana:"魔力",crit:"暴擊",resistance:"魔防",hp:"血量"};function te(e){return function(e){for(let t in e)e[t]=e[t].filter(Boolean).map((e=>({value:e,label:ee[e]?`${ee[e]} ${e}`:e}))).sort(((e,t)=>ne(e.label,t.label))),e[t].unshift({value:"",label:""});return e}({types:[...new Set(e.map((e=>e.type)))],tiers:[...new Set(e.map((e=>e.tier)))],element:[...new Set(e.map((e=>e.element)))],immunities:[...new Set(e.map((e=>e.immunities?.split(", "))).flat())],causes:[...new Set(e.map((e=>e.causes)).flat())],prevents:[...new Set(e.map((e=>e.prevents)).flat())],equipped_by:[...new Set(e.map((e=>e.equipped_by)).flat().filter(Boolean))]})}function ne(e,t){switch(typeof e){case"number":return e-t;case"string":return e.toLowerCase().localeCompare(t.toLowerCase());default:return e>label_12}}const le=Z({waiting:!0}),re=Z({}),oe=Z({open:!1});fetch("raw-data/item.added.min.json").then((e=>e.json())).then((e=>{e=e.filter(Boolean).map((e=>(e.context=JSON.stringify(e),e.equipped_by=e.equipped_by?.map((e=>e?.name)),e))),re.set(te(e)),window.d=e,le.set(e)}));const se=function(){const{subscribe:e,set:t,update:n}=Z([]);return{subscribe:e,add:e=>n((t=>(t[t.length]={timestamp:e.timestamp,rules:null},t))),update:(e,t)=>n((n=>{let l=n.findIndex((t=>t.timestamp===e));return n[l].rules=t,n})),remove:e=>n((t=>{let n=t.findIndex((t=>t.timestamp===e));return-1!==n&&t.splice(n,1),t})),reset:()=>t([])}}(),ie=[{prop:"name_zh",label:"name_zh",type:"text",sort:!0},{prop:"name",label:"name_en",type:"text",sort:!0},{prop:"tier",label:"Tier ★",type:"number",list:"tiers",min:1,max:10,sort:!0},{prop:"equipped_by",label:"穿戴者",type:"text",list:"equipped_by"},{prop:"prevents",label:"免疫",type:"text",list:"prevents"},{prop:"causes",label:"造成",type:"text",list:"causes"},{prop:"type",label:"裝備位置",type:"text",list:"types",sort:!0},{prop:"element",label:"元素",type:"text",list:"element",sort:!0},{prop:"boss",label:"👿 BOSS",type:"checkbox"},{prop:"arena",label:"🏟️ 競技場",type:"checkbox"},{prop:"view_distance",label:"👁️ +視野",type:"checkbox"},{prop:"stats.attack.base",label:".物攻",type:"number",sort:!0},{prop:"stats.magic.base",label:".魔攻",type:"number",sort:!0},{prop:"stats.defense.base",label:".物防",type:"number",sort:!0},{prop:"stats.resistance.base",label:".魔防",type:"number",sort:!0},{prop:"stats.dexterity.base",label:".敏捷",type:"number",sort:!0},{prop:"stats.crit.base",label:".暴擊",type:"number",sort:!0},{prop:"stats.ward.base",label:".護盾",type:"number",sort:!0},{prop:"stats.mana.base",label:".魔力",type:"number",sort:!0},{prop:"stats.hp.base",label:".血量",type:"number",sort:!0},{prop:"context",label:"全文搜索",type:"text"},{prop:"description",label:"描述 (en)",type:"text"},{prop:"id",label:"id",type:"number",min:1,sort:!0}];function ae(e,t,n){const l=e.slice();return l[19]=t[n],l}function ue(e,t,n){const l=e.slice();return l[22]=t[n],l}function ce(t){let n,l,r,o=t[22].label+"";return{c(){n=f("option"),l=m(o),n.__value=r=t[22].prop,n.value=n.__value},m(e,t){u(e,n,t),a(n,l)},p:e,d(e){e&&c(n)}}}function pe(e){let t,n,l;return{c(){t=f("input"),g(t,"type","text")},m(r,o){u(r,t,o),$(t,e[1]),n||(l=h(t,"input",e[17]),n=!0)},p(e,n){74&n&&t.value!==e[1]&&$(t,e[1])},d(e){e&&c(t),n=!1,l()}}}function fe(e){let t,n,l,r,o;return{c(){t=f("input"),g(t,"type","number"),g(t,"min",n=e[3].min),g(t,"max",l=e[3].max)},m(n,l){u(n,t,l),$(t,e[1]),r||(o=h(t,"input",e[16]),r=!0)},p(e,r){8&r&&n!==(n=e[3].min)&&g(t,"min",n),8&r&&l!==(l=e[3].max)&&g(t,"max",l),74&r&&b(t.value)!==e[1]&&$(t,e[1])},d(e){e&&c(t),r=!1,o()}}}function me(e){let t,n,l,r=e[6][e[3].list],o=[];for(let t=0;t<r.length;t+=1)o[t]=he(ae(e,r,t));return{c(){t=f("select");for(let e=0;e<o.length;e+=1)o[e].c();void 0===e[1]&&B((()=>e[15].call(t)))},m(r,s){u(r,t,s);for(let e=0;e<o.length;e+=1)o[e].m(t,null);_(t,e[1]),n||(l=h(t,"change",e[15]),n=!0)},p(e,n){if(72&n){let l;for(r=e[6][e[3].list],l=0;l<r.length;l+=1){const s=ae(e,r,l);o[l]?o[l].p(s,n):(o[l]=he(s),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}74&n&&_(t,e[1])},d(e){e&&c(t),p(o,e),n=!1,l()}}}function de(e){let t,n,l,o,s,i,p,v,b;return{c(){t=f("label"),n=m("T\n      "),l=f("input"),o=d(),s=f("label"),i=f("input"),p=m("\n      F"),g(l,"type","radio"),l.__value="1",l.value=l.__value,e[13][0].push(l),g(i,"type","radio"),i.__value="0",i.value=i.__value,e[13][0].push(i)},m(r,c){u(r,t,c),a(t,n),a(t,l),l.checked=l.__value===e[1],u(r,o,c),u(r,s,c),a(s,i),i.checked=i.__value===e[1],a(s,p),v||(b=[h(l,"change",e[12]),h(i,"change",e[14])],v=!0)},p(e,t){74&t&&(l.checked=l.__value===e[1]),74&t&&(i.checked=i.__value===e[1])},d(n){n&&c(t),e[13][0].splice(e[13][0].indexOf(l),1),n&&c(o),n&&c(s),e[13][0].splice(e[13][0].indexOf(i),1),v=!1,r(b)}}}function he(e){let t,n,l;return{c(){t=f("option"),t.__value=n=e[19].value,t.value=t.__value,g(t,"label",l=e[19].label)},m(e,n){u(e,t,n)},p(e,r){72&r&&n!==(n=e[19].value)&&(t.__value=n,t.value=t.__value),72&r&&l!==(l=e[19].label)&&g(t,"label",l)},d(e){e&&c(t)}}}function ve(e){let t,n,l,r,o,s;return{c(){t=f("select"),n=f("option"),n.textContent="=",l=f("option"),l.textContent="+",r=f("option"),r.textContent="-",n.__value="=",n.value=n.__value,l.__value="+",l.value=l.__value,r.__value="-",r.value=r.__value,void 0===e[2]&&B((()=>e[18].call(t)))},m(i,c){u(i,t,c),a(t,n),a(t,l),a(t,r),_(t,e[2]),o||(s=h(t,"change",e[18]),o=!0)},p(e,n){4&n&&_(t,e[2])},d(e){e&&c(t),o=!1,s()}}}function ge(t){let n,l,s,i,v,b,y,$,x,k=ie,w=[];for(let e=0;e<k.length;e+=1)w[e]=ce(ue(t,k,e));function S(e,t){return"checkbox"===e[3].type?de:e[3].list?me:"number"===e[3].type?fe:"text"===e[3].type?pe:void 0}let j=S(t),C=j&&j(t),O="number"===t[3].type&&ve(t);return{c(){n=f("div"),l=f("button"),l.textContent="x",s=d(),i=f("select");for(let e=0;e<w.length;e+=1)w[e].c();v=m("}"),b=d(),C&&C.c(),y=d(),O&&O.c(),void 0===t[4]&&B((()=>t[10].call(i))),g(n,"class","filters")},m(e,r){u(e,n,r),a(n,l),a(n,s),a(n,i);for(let e=0;e<w.length;e+=1)w[e].m(i,null);a(i,v),_(i,t[4]),t[11](i),a(n,b),C&&C.m(n,null),a(n,y),O&&O.m(n,null),$||(x=[h(l,"click",(function(){o(t[8](t[0]))&&t[8](t[0]).apply(this,arguments)})),h(i,"change",t[10]),h(i,"change",t[7])],$=!0)},p(e,[l]){if(t=e,0&l){let e;for(k=ie,e=0;e<k.length;e+=1){const n=ue(t,k,e);w[e]?w[e].p(n,l):(w[e]=ce(n),w[e].c(),w[e].m(i,v))}for(;e<w.length;e+=1)w[e].d(1);w.length=k.length}16&l&&_(i,t[4]),j===(j=S(t))&&C?C.p(t,l):(C&&C.d(1),C=j&&j(t),C&&(C.c(),C.m(n,y))),"number"===t[3].type?O?O.p(t,l):(O=ve(t),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i:e,o:e,d(e){e&&c(n),p(w,e),t[11](null),C&&C.d(),O&&O.d(),$=!1,r(x)}}}function be(e,t,n){let l,r,o,s,a;i(e,re,(e=>n(6,a=e)));let u,{timestamp:c}=t,{rules:p}=t;return e.$$set=e=>{"timestamp"in e&&n(0,c=e.timestamp),"rules"in e&&n(9,p=e.rules)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=ie.find((e=>e.prop===l))),31&e.$$.dirty&&se.update(c,{prop:l,type:r.type,value:o,comparator:s})},n(4,l="name_zh"),n(1,o=null),n(2,s="="),[c,o,s,r,l,u,a,function(){n(1,o=null)},function(e){se.remove(e)},p,function(){l=x(this),n(4,l)},function(e){O[e?"unshift":"push"]((()=>{u=e,n(5,u)}))},function(){o=this.__value,n(1,o),n(3,r),n(4,l)},[[]],function(){o=this.__value,n(1,o),n(3,r),n(4,l)},function(){o=x(this),n(1,o),n(3,r),n(4,l)},function(){o=b(this.value),n(1,o),n(3,r),n(4,l)},function(){o=this.value,n(1,o),n(3,r),n(4,l)},function(){s=x(this),n(2,s)}]}class ye extends X{constructor(e){super(),U(this,e,be,ge,s,{timestamp:0,rules:9})}}function $e(e,t){if(e)return t?_e(e.image,16):(e.deadProxyImage,xe(e.image))}function _e(e,t=96){return`https://images.weserv.nl/?w=${t}&il&url=${xe(e)}`}function xe(e){return`https://orna.guide/static/orna/img/${e}`}function ke(e,t){return t.split(".").reduce(((e,t)=>e[t]||e),e)}function we(e){return ee[e]||e}function Se(e,t,n){const l=e.slice();return l[5]=t[n],l}function je(e,t,n){const l=e.slice();return l[5]=t[n],l}function Ce(e,t,n){const l=e.slice();return l[10]=t[n],l}function Oe(e){let t,n,l,r,o,s,i,d=e[1],v=[];for(let t=0;t<d.length;t+=1)v[t]=Ee(Ce(e,d,t));return{c(){t=f("div"),n=m("[ Stats ]\n          "),l=f("br"),r=m("\n          ---------\n          "),o=f("table");for(let e=0;e<v.length;e+=1)v[e].c();var e,s,i;e="cursor",s="pointer",o.style.setProperty(e,s,i?"important":""),g(o,"class","svelte-ky1493"),g(t,"class","svelte-ky1493")},m(c,p){u(c,t,p),a(t,n),a(t,l),a(t,r),a(t,o);for(let e=0;e<v.length;e+=1)v[e].m(o,null);s||(i=h(o,"click",e[2]),s=!0)},p(e,t){if(2&t){let n;for(d=e[1],n=0;n<d.length;n+=1){const l=Ce(e,d,n);v[n]?v[n].p(l,t):(v[n]=Ee(l),v[n].c(),v[n].m(o,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=d.length}},d(e){e&&c(t),p(v,e),s=!1,i()}}}function Ee(e){let t,n,l,r,o,s,i,p=we(e[10].prop)+"",h=e[10].value+"";return{c(){t=f("tr"),n=f("th"),l=m(p),r=d(),o=f("td"),s=m(h),i=d(),g(n,"class","svelte-ky1493")},m(e,c){u(e,t,c),a(t,n),a(n,l),a(t,r),a(t,o),a(o,s),a(t,i)},p(e,t){2&t&&p!==(p=we(e[10].prop)+"")&&y(l,p),2&t&&h!==(h=e[10].value+"")&&y(s,h)},d(e){e&&c(t)}}}function qe(e){let t,n,l,r,o=e[0].prevents,s=[];for(let t=0;t<o.length;t+=1)s[t]=ze(je(e,o,t));return{c(){t=f("div"),n=m("[ 🛡️ ]\n          "),l=f("br"),r=m("\n          ------\n          ");for(let e=0;e<s.length;e+=1)s[e].c();g(t,"class","svelte-ky1493")},m(e,o){u(e,t,o),a(t,n),a(t,l),a(t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,n){if(1&n){let l;for(o=e[0].prevents,l=0;l<o.length;l+=1){const r=je(e,o,l);s[l]?s[l].p(r,n):(s[l]=ze(r),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}},d(e){e&&c(t),p(s,e)}}}function ze(e){let t,n,l=we(e[5])+"";return{c(){t=f("div"),n=m(l)},m(e,l){u(e,t,l),a(t,n)},p(e,t){1&t&&l!==(l=we(e[5])+"")&&y(n,l)},d(e){e&&c(t)}}}function Le(e){let t,n,l,r,o=e[0].causes,s=[];for(let t=0;t<o.length;t+=1)s[t]=Be(Se(e,o,t));return{c(){t=f("div"),n=m("[ 🗡️ ]\n          "),l=f("br"),r=m("\n          ------\n          ");for(let e=0;e<s.length;e+=1)s[e].c();g(t,"class","svelte-ky1493")},m(e,o){u(e,t,o),a(t,n),a(t,l),a(t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,n){if(1&n){let l;for(o=e[0].causes,l=0;l<o.length;l+=1){const r=Se(e,o,l);s[l]?s[l].p(r,n):(s[l]=Be(r),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}},d(e){e&&c(t),p(s,e)}}}function Be(e){let t,n,l=we(e[5])+"";return{c(){t=f("div"),n=m(l)},m(e,l){u(e,t,l),a(t,n)},p(e,t){1&t&&l!==(l=we(e[5])+"")&&y(n,l)},d(e){e&&c(t)}}}function Me(t){let n,l,r,o,s,i,p,b,$,_,x,k,w,S,j,C,O,E,q,z,L,B,M,A,D,P,T,N,R,F,H,I,J,V,W,G,K,Q,U,X,Y,Z,te,ne,le,re,oe,se=t[0].name_zh+"",ie=t[0].name+"",ae=t[0].tier+"",ue=ee[t[0].element]?`[${ee[t[0].element]}]`:"",ce=t[0].boss?"👿":"",pe=t[0].arena?"🏟️":"",fe=t[0].view_distance?"👁️":"",me=JSON.stringify({...t[0],context:null},null," ")+"",de=t[1]&&Oe(t),he=t[0].prevents&&qe(t),ve=t[0].causes&&Le(t);return{c(){n=f("details"),l=f("summary"),r=f("ruby"),o=f("rb"),s=m(se),i=d(),p=f("rt"),b=m(ie),$=d(),_=f("a"),x=f("sup"),k=m("★"),w=m(ae),j=d(),C=f("div"),O=f("div"),q=d(),de&&de.c(),z=d(),he&&he.c(),L=d(),ve&&ve.c(),B=d(),M=f("div"),A=f("div"),P=d(),T=f("div"),N=m(ue),R=d(),F=f("div"),H=m(ce),I=d(),J=f("div"),V=m(pe),W=d(),G=f("div"),K=m(fe),Q=d(),U=f("div"),X=f("div"),Y=f("details"),Z=f("summary"),te=d(),ne=f("pre"),le=m(me),g(p,"class","svelte-ky1493"),g(r,"class","svelte-ky1493"),g(x,"class","svelte-ky1493"),g(_,"href",S="https://orna.guide/items?show="+t[0].id),g(_,"target","orna.guide"),g(O,"class","item-img-box svelte-ky1493"),g(O,"style",E=`--bg: url(${$e(t[0])}); --bg-fallback: url(${$e(t[0],"small")})`),g(C,"class","item-info svelte-ky1493"),g(A,"class","item-equipped svelte-ky1493"),g(A,"data-by",D=t[0].equipped_by),g(T,"class","item-char svelte-ky1493"),g(F,"class","item-char svelte-ky1493"),g(J,"class","item-char svelte-ky1493"),g(G,"class","item-char svelte-ky1493"),g(M,"class","rt-box svelte-ky1493"),g(l,"class","summary svelte-ky1493"),g(Z,"class","text-right"),g(ne,"class","item-pre svelte-ky1493"),g(X,"class","item-more svelte-ky1493"),g(n,"class","item-details svelte-ky1493")},m(e,c){u(e,n,c),a(n,l),a(l,r),a(r,o),a(o,s),a(r,i),a(r,p),a(p,b),a(l,$),a(l,_),a(_,x),a(x,k),a(x,w),a(l,j),a(l,C),a(C,O),a(C,q),de&&de.m(C,null),a(C,z),he&&he.m(C,null),a(C,L),ve&&ve.m(C,null),a(l,B),a(l,M),a(M,A),a(M,P),a(M,T),a(T,N),a(M,R),a(M,F),a(F,H),a(M,I),a(M,J),a(J,V),a(M,W),a(M,G),a(G,K),a(n,Q),a(n,U),a(U,X),a(X,Y),a(Y,Z),a(Y,te),a(Y,ne),a(ne,le),re||(oe=h(C,"click",v(t[3])),re=!0)},p(e,[t]){1&t&&se!==(se=e[0].name_zh+"")&&y(s,se),1&t&&ie!==(ie=e[0].name+"")&&y(b,ie),1&t&&ae!==(ae=e[0].tier+"")&&y(w,ae),1&t&&S!==(S="https://orna.guide/items?show="+e[0].id)&&g(_,"href",S),1&t&&E!==(E=`--bg: url(${$e(e[0])}); --bg-fallback: url(${$e(e[0],"small")})`)&&g(O,"style",E),e[1]?de?de.p(e,t):(de=Oe(e),de.c(),de.m(C,z)):de&&(de.d(1),de=null),e[0].prevents?he?he.p(e,t):(he=qe(e),he.c(),he.m(C,L)):he&&(he.d(1),he=null),e[0].causes?ve?ve.p(e,t):(ve=Le(e),ve.c(),ve.m(C,null)):ve&&(ve.d(1),ve=null),1&t&&D!==(D=e[0].equipped_by)&&g(A,"data-by",D),1&t&&ue!==(ue=ee[e[0].element]?`[${ee[e[0].element]}]`:"")&&y(N,ue),1&t&&ce!==(ce=e[0].boss?"👿":"")&&y(H,ce),1&t&&pe!==(pe=e[0].arena?"🏟️":"")&&y(V,pe),1&t&&fe!==(fe=e[0].view_distance?"👁️":"")&&y(K,fe),1&t&&me!==(me=JSON.stringify({...e[0],context:null},null," ")+"")&&y(le,me)},i:e,o:e,d(e){e&&c(n),de&&de.d(),he&&he.d(),ve&&ve.d(),re=!1,oe()}}}function Ae(e,t,n){let l;i(e,oe,(e=>n(4,l=e)));let{item:r}=t,o=r.stats;return o&&(o=Object.keys(o).map((e=>({prop:e,value:o[e].base})))),e.$$set=e=>{"item"in e&&n(0,r=e.item)},[r,o,function(){console.log(l),oe.set({open:!0,item:r,stats:o})},function(t){j.call(this,e,t)}]}class De extends X{constructor(e){super(),U(this,e,Ae,Me,s,{item:0})}}function Pe(e,t,n){const l=e.slice();return l[7]=t[n],l[8]=t,l[9]=n,l}function Te(e){let t,n,l,r,o,s,i,b,$,_,x,k,w,S,j=e[0].item.name_zh+"",C=e[1],O=[];for(let t=0;t<C.length;t+=1)O[t]=Ne(Pe(e,C,t));return{c(){t=f("form"),n=f("table"),l=f("caption"),r=m("品質試算\n            "),o=f("br"),s=m("\n            [ "),i=m(j),b=m(" ]"),$=d();for(let e=0;e<O.length;e+=1)O[e].c();_=d(),x=f("div"),k=f("button"),k.textContent="Reset",g(l,"class","svelte-1o43v9f"),g(n,"class","assess-table svelte-1o43v9f"),g(k,"type","reset"),g(x,"class","text-right")},m(c,p){u(c,t,p),a(t,n),a(n,l),a(l,r),a(l,o),a(l,s),a(l,i),a(l,b),a(n,$);for(let e=0;e<O.length;e+=1)O[e].m(n,null);a(t,_),a(t,x),a(x,k),w||(S=h(k,"click",v(e[3])),w=!0)},p(e,t){if(1&t&&j!==(j=e[0].item.name_zh+"")&&y(i,j),2&t){let l;for(C=e[1],l=0;l<C.length;l+=1){const r=Pe(e,C,l);O[l]?O[l].p(r,t):(O[l]=Ne(r),O[l].c(),O[l].m(n,null))}for(;l<O.length;l+=1)O[l].d(1);O.length=C.length}},d(e){e&&c(t),p(O,e),w=!1,S()}}}function Ne(e){let t,n,l,o,s,i,p,v,_,x,k,w,S,j,C,O,E,q,z,L,B=e[7].prop+"",M=Fe(e[7])+"";function A(){e[4].call(i,e[8],e[9])}function D(){e[5].call(w,e[8],e[9])}return{c(){t=f("tr"),n=f("th"),l=m(B),o=d(),s=f("td"),i=f("input"),_=d(),x=f("br"),k=d(),w=f("input"),C=d(),O=f("td"),E=m(M),q=d(),g(n,"class","svelte-1o43v9f"),g(i,"type","number"),g(i,"max",p=e[7].max),g(i,"min",v=e[7].min),g(i,"step","1"),g(i,"class","svelte-1o43v9f"),g(w,"type","range"),g(w,"max",S=e[7].max),g(w,"min",j=e[7].min),g(w,"step","1"),g(w,"class","svelte-1o43v9f"),g(s,"class","text-center svelte-1o43v9f"),g(O,"class","svelte-1o43v9f")},m(r,c){u(r,t,c),a(t,n),a(n,l),a(t,o),a(t,s),a(s,i),$(i,e[7].value),a(s,_),a(s,x),a(s,k),a(s,w),$(w,e[7].value),a(t,C),a(t,O),a(O,E),a(t,q),z||(L=[h(i,"input",A),h(w,"change",D),h(w,"input",D)],z=!0)},p(t,n){e=t,2&n&&B!==(B=e[7].prop+"")&&y(l,B),2&n&&p!==(p=e[7].max)&&g(i,"max",p),2&n&&v!==(v=e[7].min)&&g(i,"min",v),2&n&&b(i.value)!==e[7].value&&$(i,e[7].value),2&n&&S!==(S=e[7].max)&&g(w,"max",S),2&n&&j!==(j=e[7].min)&&g(w,"min",j),2&n&&$(w,e[7].value),2&n&&M!==(M=Fe(e[7])+"")&&y(E,M)},d(e){e&&c(t),z=!1,r(L)}}}function Re(t){let n,l,r,o,s,i,p,m=t[0].item&&Te(t);return{c(){n=f("div"),l=f("div"),r=d(),o=f("main"),m&&m.c(),g(l,"class","overlay svelte-1o43v9f"),g(o,"class","content svelte-1o43v9f"),g(n,"class","dialog svelte-1o43v9f"),n.hidden=s=!t[0].open},m(e,s){u(e,n,s),a(n,l),a(n,r),a(n,o),m&&m.m(o,null),i||(p=h(l,"click",t[2]),i=!0)},p(e,[t]){e[0].item?m?m.p(e,t):(m=Te(e),m.c(),m.m(o,null)):m&&(m.d(1),m=null),1&t&&s!==(s=!e[0].open)&&(n.hidden=s)},i:e,o:e,d(e){e&&c(n),m&&m.d(),i=!1,p()}}}function Fe(e){return`${(100*e.value/e.oValue).toFixed(1)}%`}function He(e,t,n){let l,r;return i(e,oe,(e=>n(0,r=e))),e.$$.update=()=>{var t;1&e.$$.dirty&&r&&r.stats&&(t=r.stats,n(1,l=t.map((e=>({prop:ee[e.prop]||e.prop,value:e.value,oValue:e.value,max:2*e.value,min:~~(.7*e.value)})))))},n(1,l=[]),[r,l,function(){!function(e,t,n=t){e.set(n)}(oe,r={open:!1},r)},function(){n(1,l=l.map((e=>({...e,value:e.oValue}))))},function(e,t){e[t].value=b(this.value),n(1,l)},function(e,t){e[t].value=b(this.value),n(1,l)}]}class Ie extends X{constructor(e){super(),U(this,e,He,Re,s,{})}}function Je(e,t,n){const l=e.slice();return l[18]=t[n],l}function Ve(e,t,n){const l=e.slice();return l[21]=t[n],l}function We(e,t,n){const l=e.slice();return l[24]=t[n],l}function Ge(e,n){let l,r,o,s;const i=[n[24]];let p={};for(let e=0;e<i.length;e+=1)p=t(p,i[e]);return r=new ye({props:p}),{key:e,first:null,c(){l=f("li"),W(r.$$.fragment),o=d(),this.first=l},m(e,t){u(e,l,t),G(r,l,null),a(l,o),s=!0},p(e,t){n=e;const l=32&t?function(e,t){const n={},l={},r={$$scope:1};let o=e.length;for(;o--;){const s=e[o],i=t[o];if(i){for(const e in s)e in i||(l[e]=1);for(const e in i)r[e]||(n[e]=i[e],r[e]=1);e[o]=i}else for(const e in s)r[e]=1}for(const e in l)e in n||(n[e]=void 0);return n}(i,[(o=n[24],"object"==typeof o&&null!==o?o:{})]):{};var o;r.$set(l)},i(e){s||(H(r.$$.fragment,e),s=!0)},o(e){I(r.$$.fragment,e),s=!1},d(e){e&&c(l),K(r)}}}function Ke(e){let t,n,l,o,s,i,v,x,w,S,j,C,O,E,q,z,L,M,A,D,P,T,N,W,G,K=e[0].length+"",Q=[],U=new Map,X=e[7],Y=[];for(let t=0;t<X.length;t+=1)Y[t]=Qe(Ve(e,X,t));let Z=e[0].slice(0,e[4]);const ee=e=>e[18].id;for(let t=0;t<Z.length;t+=1){let n=Je(e,Z,t),l=ee(n);U.set(l,Q[t]=Ue(l,n))}return{c(){t=f("div"),n=f("div"),l=m("排序:\n      "),o=f("select");for(let e=0;e<Y.length;e+=1)Y[e].c();s=d(),i=f("input"),v=d(),x=f("details"),w=f("summary"),S=m("顯示數量\n        "),j=f("input"),C=m("\n        / "),O=m(K),E=d(),q=f("div"),z=m("總數\n        "),L=f("input"),M=m("\n        以下秀圖"),A=d(),D=f("hr"),P=d(),T=f("ul");for(let e=0;e<Q.length;e+=1)Q[e].c();void 0===e[1]&&B((()=>e[11].call(o))),g(i,"id","sortDir"),g(i,"type","checkbox"),g(i,"class","svelte-p2hn9j"),g(j,"class","text-center"),g(j,"type","number"),g(j,"min","5"),g(j,"max","2000"),g(j,"step","5"),g(L,"class","text-center"),g(L,"type","number"),g(L,"min","1"),g(L,"max","50"),g(t,"class","nav svelte-p2hn9j"),g(T,"class","items svelte-p2hn9j"),k(T,"showDetails",e[6])},m(r,c){u(r,t,c),a(t,n),a(n,l),a(n,o);for(let e=0;e<Y.length;e+=1)Y[e].m(o,null);_(o,e[1]),a(n,s),a(n,i),i.checked=e[2],a(t,v),a(t,x),a(x,w),a(w,S),a(w,j),$(j,e[4]),a(w,C),a(w,O),a(x,E),a(x,q),a(q,z),a(q,L),$(L,e[3]),a(q,M),u(r,A,c),u(r,D,c),u(r,P,c),u(r,T,c);for(let e=0;e<Q.length;e+=1)Q[e].m(T,null);N=!0,W||(G=[h(o,"change",e[11]),h(i,"change",e[12]),h(j,"input",e[13]),h(L,"input",e[14])],W=!0)},p(e,t){if(128&t){let n;for(X=e[7],n=0;n<X.length;n+=1){const l=Ve(e,X,n);Y[n]?Y[n].p(l,t):(Y[n]=Qe(l),Y[n].c(),Y[n].m(o,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=X.length}130&t&&_(o,e[1]),4&t&&(i.checked=e[2]),16&t&&b(j.value)!==e[4]&&$(j,e[4]),(!N||1&t)&&K!==(K=e[0].length+"")&&y(O,K),8&t&&b(L.value)!==e[3]&&$(L,e[3]),17&t&&(Z=e[0].slice(0,e[4]),R(),Q=V(Q,t,ee,1,e,Z,U,T,J,Ue,null,Je),F()),64&t&&k(T,"showDetails",e[6])},i(e){if(!N){for(let e=0;e<Z.length;e+=1)H(Q[e]);N=!0}},o(e){for(let e=0;e<Q.length;e+=1)I(Q[e]);N=!1},d(e){e&&c(t),p(Y,e),e&&c(A),e&&c(D),e&&c(P),e&&c(T);for(let e=0;e<Q.length;e+=1)Q[e].d();W=!1,r(G)}}}function Qe(t){let n;return{c(){n=f("option"),n.__value=t[21].prop,n.value=n.__value,g(n,"label",t[21].label)},m(e,t){u(e,n,t)},p:e,d(e){e&&c(n)}}}function Ue(e,t){let n,l,r,o;return l=new De({props:{item:t[18]}}),{key:e,first:null,c(){n=f("li"),W(l.$$.fragment),r=d(),g(n,"class","svelte-p2hn9j"),this.first=n},m(e,t){u(e,n,t),G(l,n,null),a(n,r),o=!0},p(e,n){t=e;const r={};17&n&&(r.item=t[18]),l.$set(r)},i(e){o||(H(l.$$.fragment,e),o=!0)},o(e){I(l.$$.fragment,e),o=!1},d(e){e&&c(n),K(l)}}}function Xe(e){let t,n,l,r,o,s,i,p,m,v,b,y,$,_,x,k,w,S,j,C=[],O=new Map,E=e[5];const q=e=>e[24].timestamp;for(let t=0;t<E.length;t+=1){let n=We(e,E,t),l=q(n);O.set(l,C[t]=Ge(l,n))}let z=e[0].length&&Ke(e);return y=new Ie({}),{c(){t=f("div"),n=f("h1"),n.innerHTML='<a href="https://playorna.com/" target="_blank">Orna RPG</a> items lookup tool',l=d(),r=f("aside"),o=f("button"),o.textContent="+過濾條件",s=d(),i=f("ul");for(let e=0;e<C.length;e+=1)C[e].c();p=d(),m=f("hr"),v=d(),z&&z.c(),b=d(),W(y.$$.fragment),$=d(),_=f("hr"),x=d(),k=f("footer"),k.innerHTML='* data &amp; image source: <a href="https://orna.guide/" target="_blank">https://orna.guide/</a>  <br/>\n  * repo: <a href="https://github.com/rplus/orna-lookup" target="_blank">Rplus/orna-lookup</a>',g(n,"class","text-center"),g(t,"class","workspace svelte-p2hn9j"),g(k,"class","svelte-p2hn9j")},m(c,f){u(c,t,f),a(t,n),a(t,l),a(t,r),a(r,o),a(r,s),a(r,i);for(let e=0;e<C.length;e+=1)C[e].m(i,null);a(t,p),a(t,m),a(t,v),z&&z.m(t,null),a(t,b),G(y,t,null),u(c,$,f),u(c,_,f),u(c,x,f),u(c,k,f),w=!0,S||(j=h(o,"click",e[8]),S=!0)},p(e,[n]){32&n&&(E=e[5],R(),C=V(C,n,q,1,e,E,O,i,J,Ge,null,We),F()),e[0].length?z?(z.p(e,n),1&n&&H(z,1)):(z=Ke(e),z.c(),H(z,1),z.m(t,b)):z&&(R(),I(z,1,1,(()=>{z=null})),F())},i(e){if(!w){for(let e=0;e<E.length;e+=1)H(C[e]);H(z),H(y.$$.fragment,e),w=!0}},o(e){for(let e=0;e<C.length;e+=1)I(C[e]);I(z),I(y.$$.fragment,e),w=!1},d(e){e&&c(t);for(let e=0;e<C.length;e+=1)C[e].d();z&&z.d(),K(y),e&&c($),e&&c(_),e&&c(x),e&&c(k),S=!1,j()}}}function Ye(e,t,n){let l,r,o,s,a,u;i(e,le,(e=>n(10,a=e))),i(e,se,(e=>n(5,u=e)));let c=!1,p=[],f=ie.filter((e=>e.sort)),m="tier";function d(e){let t=a;return!e||!e.length||1===e.length&&null==e[0].rules?.value?t:(e.map((e=>e.rules)).forEach((e=>{e&&(t=function(e,t){let{prop:n,type:l,value:r,comparator:o}=t;if(!r||!e.length)return e;"string"==typeof r&&(r=r.toLowerCase());"checkbox"===l&&(r=Boolean(+r));switch(l){case"checkbox":return r?e.filter((e=>e[n])):e.filter((e=>!e[n]));case"number":return e.filter((e=>{let t=ke(e,n);switch(o){case"+":return t>=r;case"-":return t<=r;default:return t===r}}));case"text":let t=new RegExp(r,"i");return e.filter((e=>t.test(e[n])));default:return e}}(t,e))})),function(e=p){return e.sort(((e,t)=>{let n=l?1:-1,r=ke(e,m),o=ke(t,m);switch("object"==typeof o&&(o=-9999),"object"==typeof r&&(r=-9999),typeof r){case"string":return r.localeCompare(o)*n;case"number":return(r-o)*n;default:return 0}}))}(t))}function h(){se.add({timestamp:+new Date})}return h(),e.$$.update=()=>{1536&e.$$.dirty&&(a.waiting||c||(n(9,c=!0),n(0,p=a))),38&e.$$.dirty&&n(0,p=d(u)),25&e.$$.dirty&&n(6,s=p.length<=o||r<=o)},n(2,l=!0),n(4,r=50),n(3,o=20),[p,m,l,o,r,u,s,f,h,c,a,function(){m=x(this),n(1,m),n(7,f)},function(){l=this.checked,n(2,l)},function(){r=b(this.value),n(4,r)},function(){o=b(this.value),n(3,o)}]}return new class extends X{constructor(e){super(),U(this,e,Ye,Xe,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
