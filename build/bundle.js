var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function l(){return Object.create(null)}function r(e){e.forEach(n)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,l){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function d(){return m(" ")}function h(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function g(e){return function(t){return t.preventDefault(),e.call(this,t)}}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e){return""===e?null:+e}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function _(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function x(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function k(e,t,n){e.classList[n?"add":"remove"](t)}let w;function S(e){w=e}function j(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const C=[],D=[],E=[],O=[],L=Promise.resolve();let q=!1;function z(e){E.push(e)}let B=!1;const M=new Set;function A(){if(!B){B=!0;do{for(let e=0;e<C.length;e+=1){const t=C[e];S(t),P(t.$$)}for(S(null),C.length=0;D.length;)D.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];M.has(t)||(M.add(t),t())}E.length=0}while(C.length);for(;O.length;)O.pop()();q=!1,B=!1,M.clear()}}function P(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const T=new Set;let N;function F(){N={r:0,c:[],p:N}}function H(){N.r||r(N.c),N=N.p}function R(e,t){e&&e.i&&(T.delete(e),e.i(t))}function I(e,t,n,l){if(e&&e.o){if(T.has(e))return;T.add(e),N.c.push((()=>{T.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function W(e,t){I(e,1,1,(()=>{t.delete(e.key)}))}function J(e,t,n,l,r,o,s,i,a,u,c,p){let f=e.length,m=o.length,d=f;const h={};for(;d--;)h[e[d].key]=d;const g=[],v=new Map,b=new Map;for(d=m;d--;){const e=p(r,o,d),i=n(e);let a=s.get(i);a?l&&a.p(e,t):(a=u(i,e),a.c()),v.set(i,g[d]=a),i in h&&b.set(i,Math.abs(d-h[i]))}const y=new Set,$=new Set;function _(e){R(e,1),e.m(i,c),s.set(e.key,e),c=e.first,m--}for(;f&&m;){const t=g[m-1],n=e[f-1],l=t.key,r=n.key;t===n?(c=t.first,f--,m--):v.has(r)?!s.has(l)||y.has(l)?_(t):$.has(r)?f--:b.get(l)>b.get(r)?($.add(l),_(t)):(y.add(r),f--):(a(n,s),f--)}for(;f--;){const t=e[f];v.has(t.key)||a(t,s)}for(;m;)_(g[m-1]);return g}function V(e){e&&e.c()}function G(e,t,l,s){const{fragment:i,on_mount:a,on_destroy:u,after_update:c}=e.$$;i&&i.m(t,l),s||z((()=>{const t=a.map(n).filter(o);u?u.push(...t):r(t),e.$$.on_mount=[]})),c.forEach(z)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(C.push(e),q||(q=!0,L.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(t,n,o,s,i,a,u,p=[-1]){const f=w;S(t);const m=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:n.context||[]),callbacks:l(),dirty:p,skip_bound:!1,root:n.target||f.$$.root};u&&u(m.root);let d=!1;if(m.ctx=o?o(t,n.props||{},((e,n,...l)=>{const r=l.length?l[0]:n;return m.ctx&&i(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),d&&Q(t,e)),n})):[],m.update(),d=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);m.fragment&&m.fragment.l(e),e.forEach(c)}else m.fragment&&m.fragment.c();n.intro&&R(t.$$.fragment),G(t,n.target,n.anchor,n.customElement),A()}S(f)}class X{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Y=[];function Z(t,n=e){let l;const r=new Set;function o(e){if(s(t,e)&&(t=e,l)){const e=!Y.length;for(const e of r)e[1](),Y.push(e,t);if(e){for(let e=0;e<Y.length;e+=2)Y[e][0](Y[e+1]);Y.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,i=e){const a=[s,i];return r.add(a),1===r.size&&(l=n(o)||e),s(t),()=>{r.delete(a),0===r.size&&(l(),l=null)}}}}const ee={Bleeding:"流血",Frozen:"冰凍",Burning:"燃燒",Asleep:"入睡",Paralyzed:"麻痺",Blind:"致盲",Stunned:"暈眩",Rot:"腐敗",Blight:"枯萎",Petrified:"石化",Poisoned:"中毒",Drenched:"濕滑",Cursed:"詛咒",Toxic:"劇毒",Lulled:"安份",Mage:"法師",Thief:"盜賊",Warrior:"戰士",Curative:"藥水",Weapon:"武器",Other:"其他",Item:"物品",Head:"頭部",Armor:"護甲",Legs:"腿部",Accessory:"配件",Material:"材料","Off-hand":"副手",Adornment:"裝飾品",Dark:"闇",Water:"水",Fire:"火",Physical:"物",Holy:"光",Earthen:"土",Lightning:"雷",Dragon:"龍",Arcane:"奧","Fire Def":".火抗","Water Def":".水抗","Earth Def":".土抗","Lightning Def":".雷抗","Holy Def":".光抗","Dark Def":".闇抗",attack:"物攻",magic:"魔攻",defense:"物防",ward:"護盾",dexterity:"敏捷",mana:"魔力",crit:"暴擊",resistance:"魔防",hp:"血量"};function te(e){return function(e){for(let t in e)e[t]=e[t].filter(Boolean).map((e=>({value:e,label:ee[e]?`${ee[e]} ${e}`:e}))).sort(((e,t)=>ne(e.label,t.label))),e[t].unshift({value:"",label:""});return e}({types:[...new Set(e.map((e=>e.type)))],tiers:[...new Set(e.map((e=>e.tier)))],element:[...new Set(e.map((e=>e.element)))],immunities:[...new Set(e.map((e=>e.immunities?.split(", "))).flat())],causes:[...new Set(e.map((e=>e.causes)).flat())],prevents:[...new Set(e.map((e=>e.prevents)).flat())],gives:[...new Set(e.map((e=>e.gives)).flat())],cures:[...new Set(e.map((e=>e.cures)).flat())],equipped_by:[...new Set(e.map((e=>e.equipped_by)).flat().filter(Boolean))]})}function ne(e,t){switch(typeof e){case"number":return e-t;case"string":return e.toLowerCase().localeCompare(t.toLowerCase());default:return e>label_12}}const le=Z({waiting:!0}),re=Z({}),oe=Z({open:!1});fetch("raw-data/item.added.min.json").then((e=>e.json())).then((e=>{e=e.filter(Boolean).map((e=>(e.context=JSON.stringify(e),e.equipped_by=e.equipped_by?.map((e=>e?.name)),e))),re.set(te(e)),window.d=e,le.set(e)}));const se=function(){const{subscribe:e,set:t,update:n}=Z([]);return{subscribe:e,add:e=>n((t=>(t[t.length]={timestamp:e.timestamp,rules:null},t))),update:(e,t)=>n((n=>{let l=n.findIndex((t=>t.timestamp===e));return n[l].rules=t,n})),remove:e=>n((t=>{let n=t.findIndex((t=>t.timestamp===e));return-1!==n&&t.splice(n,1),t})),reset:()=>t([])}}(),ie=[{prop:"name_zh",label:"name_zh",type:"text",sort:!0},{prop:"name",label:"name_en",type:"text",sort:!0},{prop:"tier",label:"Tier ★",type:"number",list:"tiers",min:1,max:10,sort:!0},{prop:"equipped_by",label:"穿戴者",type:"text",list:"equipped_by"},{prop:"prevents",label:"-免疫(敵)",type:"text",list:"prevents"},{prop:"cures",label:"-治癒(己)",type:"text",list:"cures"},{prop:"causes",label:"+造成(敵)",type:"text",list:"causes"},{prop:"gives",label:"+給予(己)",type:"text",list:"gives"},{prop:"type",label:"裝備位置",type:"text",list:"types",sort:!0},{prop:"element",label:"元素",type:"text",list:"element",sort:!0},{prop:"boss",label:"👿 BOSS",type:"checkbox"},{prop:"arena",label:"🏟️ 競技場",type:"checkbox"},{prop:"view_distance",label:"👁️ +視野",type:"checkbox"},{prop:"stats.attack.base",label:".物攻",type:"number",sort:!0},{prop:"stats.magic.base",label:".魔攻",type:"number",sort:!0},{prop:"stats.defense.base",label:".物防",type:"number",sort:!0},{prop:"stats.resistance.base",label:".魔防",type:"number",sort:!0},{prop:"stats.dexterity.base",label:".敏捷",type:"number",sort:!0},{prop:"stats.crit.base",label:".暴擊",type:"number",sort:!0},{prop:"stats.ward.base",label:".護盾",type:"number",sort:!0},{prop:"stats.mana.base",label:".魔力",type:"number",sort:!0},{prop:"stats.hp.base",label:".血量",type:"number",sort:!0},{prop:"context",label:"全文搜索",type:"text"},{prop:"description",label:"描述 (en)",type:"text"},{prop:"id",label:"id",type:"number",min:1,sort:!0}];function ae(e,t,n){const l=e.slice();return l[19]=t[n],l}function ue(e,t,n){const l=e.slice();return l[22]=t[n],l}function ce(t){let n,l,r,o=t[22].label+"";return{c(){n=f("option"),l=m(o),n.__value=r=t[22].prop,n.value=n.__value},m(e,t){u(e,n,t),a(n,l)},p:e,d(e){e&&c(n)}}}function pe(e){let t,n,l;return{c(){t=f("input"),v(t,"type","text")},m(r,o){u(r,t,o),$(t,e[1]),n||(l=h(t,"input",e[17]),n=!0)},p(e,n){74&n&&t.value!==e[1]&&$(t,e[1])},d(e){e&&c(t),n=!1,l()}}}function fe(e){let t,n,l,r,o;return{c(){t=f("input"),v(t,"type","number"),v(t,"min",n=e[3].min),v(t,"max",l=e[3].max)},m(n,l){u(n,t,l),$(t,e[1]),r||(o=h(t,"input",e[16]),r=!0)},p(e,r){8&r&&n!==(n=e[3].min)&&v(t,"min",n),8&r&&l!==(l=e[3].max)&&v(t,"max",l),74&r&&b(t.value)!==e[1]&&$(t,e[1])},d(e){e&&c(t),r=!1,o()}}}function me(e){let t,n,l,r=e[6][e[3].list],o=[];for(let t=0;t<r.length;t+=1)o[t]=he(ae(e,r,t));return{c(){t=f("select");for(let e=0;e<o.length;e+=1)o[e].c();void 0===e[1]&&z((()=>e[15].call(t)))},m(r,s){u(r,t,s);for(let e=0;e<o.length;e+=1)o[e].m(t,null);_(t,e[1]),n||(l=h(t,"change",e[15]),n=!0)},p(e,n){if(72&n){let l;for(r=e[6][e[3].list],l=0;l<r.length;l+=1){const s=ae(e,r,l);o[l]?o[l].p(s,n):(o[l]=he(s),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}74&n&&_(t,e[1])},d(e){e&&c(t),p(o,e),n=!1,l()}}}function de(e){let t,n,l,o,s,i,p,g,b;return{c(){t=f("label"),n=m("T\n      "),l=f("input"),o=d(),s=f("label"),i=f("input"),p=m("\n      F"),v(l,"type","radio"),l.__value="1",l.value=l.__value,e[13][0].push(l),v(i,"type","radio"),i.__value="0",i.value=i.__value,e[13][0].push(i)},m(r,c){u(r,t,c),a(t,n),a(t,l),l.checked=l.__value===e[1],u(r,o,c),u(r,s,c),a(s,i),i.checked=i.__value===e[1],a(s,p),g||(b=[h(l,"change",e[12]),h(i,"change",e[14])],g=!0)},p(e,t){74&t&&(l.checked=l.__value===e[1]),74&t&&(i.checked=i.__value===e[1])},d(n){n&&c(t),e[13][0].splice(e[13][0].indexOf(l),1),n&&c(o),n&&c(s),e[13][0].splice(e[13][0].indexOf(i),1),g=!1,r(b)}}}function he(e){let t,n,l;return{c(){t=f("option"),t.__value=n=e[19].value,t.value=t.__value,v(t,"label",l=e[19].label)},m(e,n){u(e,t,n)},p(e,r){72&r&&n!==(n=e[19].value)&&(t.__value=n,t.value=t.__value),72&r&&l!==(l=e[19].label)&&v(t,"label",l)},d(e){e&&c(t)}}}function ge(e){let t,n,l,r,o,s;return{c(){t=f("select"),n=f("option"),n.textContent="=",l=f("option"),l.textContent="+",r=f("option"),r.textContent="-",n.__value="=",n.value=n.__value,l.__value="+",l.value=l.__value,r.__value="-",r.value=r.__value,void 0===e[2]&&z((()=>e[18].call(t)))},m(i,c){u(i,t,c),a(t,n),a(t,l),a(t,r),_(t,e[2]),o||(s=h(t,"change",e[18]),o=!0)},p(e,n){4&n&&_(t,e[2])},d(e){e&&c(t),o=!1,s()}}}function ve(t){let n,l,s,i,g,b,y,$,x,k=ie,w=[];for(let e=0;e<k.length;e+=1)w[e]=ce(ue(t,k,e));function S(e,t){return"checkbox"===e[3].type?de:e[3].list?me:"number"===e[3].type?fe:"text"===e[3].type?pe:void 0}let j=S(t),C=j&&j(t),D="number"===t[3].type&&ge(t);return{c(){n=f("div"),l=f("button"),l.textContent="x",s=d(),i=f("select");for(let e=0;e<w.length;e+=1)w[e].c();g=m("}"),b=d(),C&&C.c(),y=d(),D&&D.c(),void 0===t[4]&&z((()=>t[10].call(i))),v(n,"class","filters")},m(e,r){u(e,n,r),a(n,l),a(n,s),a(n,i);for(let e=0;e<w.length;e+=1)w[e].m(i,null);a(i,g),_(i,t[4]),t[11](i),a(n,b),C&&C.m(n,null),a(n,y),D&&D.m(n,null),$||(x=[h(l,"click",(function(){o(t[8](t[0]))&&t[8](t[0]).apply(this,arguments)})),h(i,"change",t[10]),h(i,"change",t[7])],$=!0)},p(e,[l]){if(t=e,0&l){let e;for(k=ie,e=0;e<k.length;e+=1){const n=ue(t,k,e);w[e]?w[e].p(n,l):(w[e]=ce(n),w[e].c(),w[e].m(i,g))}for(;e<w.length;e+=1)w[e].d(1);w.length=k.length}16&l&&_(i,t[4]),j===(j=S(t))&&C?C.p(t,l):(C&&C.d(1),C=j&&j(t),C&&(C.c(),C.m(n,y))),"number"===t[3].type?D?D.p(t,l):(D=ge(t),D.c(),D.m(n,null)):D&&(D.d(1),D=null)},i:e,o:e,d(e){e&&c(n),p(w,e),t[11](null),C&&C.d(),D&&D.d(),$=!1,r(x)}}}function be(e,t,n){let l,r,o,s,a;i(e,re,(e=>n(6,a=e)));let u,{timestamp:c}=t,{rules:p}=t;return e.$$set=e=>{"timestamp"in e&&n(0,c=e.timestamp),"rules"in e&&n(9,p=e.rules)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=ie.find((e=>e.prop===l))),31&e.$$.dirty&&se.update(c,{prop:l,type:r.type,value:o,comparator:s})},n(4,l="name_zh"),n(1,o=null),n(2,s="="),[c,o,s,r,l,u,a,function(){n(1,o="")},function(e){se.remove(e)},p,function(){l=x(this),n(4,l)},function(e){D[e?"unshift":"push"]((()=>{u=e,n(5,u)}))},function(){o=this.__value,n(1,o),n(3,r),n(4,l)},[[]],function(){o=this.__value,n(1,o),n(3,r),n(4,l)},function(){o=x(this),n(1,o),n(3,r),n(4,l)},function(){o=b(this.value),n(1,o),n(3,r),n(4,l)},function(){o=this.value,n(1,o),n(3,r),n(4,l)},function(){s=x(this),n(2,s)}]}class ye extends X{constructor(e){super(),U(this,e,be,ve,s,{timestamp:0,rules:9})}}function $e(e,t){if(e)return t?_e(e.image,16):(e.deadProxyImage,xe(e.image))}function _e(e,t=96){return`https://images.weserv.nl/?w=${t}&il&url=${xe(e)}`}function xe(e){return`https://orna.guide/static/orna/img/${e}`}function ke(e,t){return t.split(".").reduce(((e,t)=>e[t]||e),e)}function we(e){return ee[e]||e}function Se(e,t,n){const l=e.slice();return l[6]=t[n],l}function je(e,t,n){const l=e.slice();return l[9]=t[n],l}function Ce(e,t,n){const l=e.slice();return l[12]=t[n],l}function De(e){let t,n,l,r,o,s,i,d=e[1],g=[];for(let t=0;t<d.length;t+=1)g[t]=Ee(Ce(e,d,t));return{c(){t=f("div"),n=m("[ Stats ]\n          "),l=f("br"),r=m("\n          ---------\n          "),o=f("table");for(let e=0;e<g.length;e+=1)g[e].c();var e,s,i;e="cursor",s="pointer",o.style.setProperty(e,s,i?"important":""),v(o,"class","svelte-ky1493"),v(t,"class","svelte-ky1493")},m(c,p){u(c,t,p),a(t,n),a(t,l),a(t,r),a(t,o);for(let e=0;e<g.length;e+=1)g[e].m(o,null);s||(i=h(o,"click",e[3]),s=!0)},p(e,t){if(2&t){let n;for(d=e[1],n=0;n<d.length;n+=1){const l=Ce(e,d,n);g[n]?g[n].p(l,t):(g[n]=Ee(l),g[n].c(),g[n].m(o,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=d.length}},d(e){e&&c(t),p(g,e),s=!1,i()}}}function Ee(e){let t,n,l,r,o,s,i,p=we(e[12].prop)+"",h=e[12].value+"";return{c(){t=f("tr"),n=f("th"),l=m(p),r=d(),o=f("td"),s=m(h),i=d(),v(n,"class","svelte-ky1493")},m(e,c){u(e,t,c),a(t,n),a(n,l),a(t,r),a(t,o),a(o,s),a(t,i)},p(e,t){2&t&&p!==(p=we(e[12].prop)+"")&&y(l,p),2&t&&h!==(h=e[12].value+"")&&y(s,h)},d(e){e&&c(t)}}}function Oe(e){let t,n,l,r,o,s,i,h,g,b=e[6][1]+"",y=e[0][e[6][0]],$=[];for(let t=0;t<y.length;t+=1)$[t]=Le(je(e,y,t));return{c(){t=f("div"),n=f("span"),l=m("[ "),r=m(b),o=m(" ]"),i=d(),h=f("br"),g=m("\n            -------\n            ");for(let e=0;e<$.length;e+=1)$[e].c();v(n,"title",s=e[6][0]),v(t,"class","text-right svelte-ky1493")},m(e,s){u(e,t,s),a(t,n),a(n,l),a(n,r),a(n,o),a(t,i),a(t,h),a(t,g);for(let e=0;e<$.length;e+=1)$[e].m(t,null)},p(e,n){if(5&n){let l;for(y=e[0][e[6][0]],l=0;l<y.length;l+=1){const r=je(e,y,l);$[l]?$[l].p(r,n):($[l]=Le(r),$[l].c(),$[l].m(t,null))}for(;l<$.length;l+=1)$[l].d(1);$.length=y.length}},d(e){e&&c(t),p($,e)}}}function Le(e){let t,n,l=we(e[9])+"";return{c(){t=f("div"),n=m(l)},m(e,l){u(e,t,l),a(t,n)},p(e,t){1&t&&l!==(l=we(e[9])+"")&&y(n,l)},d(e){e&&c(t)}}}function qe(e){let t,n=e[0][e[6][0]]&&Oe(e);return{c(){n&&n.c(),t=m("")},m(e,l){n&&n.m(e,l),u(e,t,l)},p(e,l){e[0][e[6][0]]?n?n.p(e,l):(n=Oe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&c(t)}}}function ze(t){let n,l,r,o,s,i,b,$,_,x,k,w,S,j,C,D,E,O,L,q,z,B,M,A,P,T,N,F,H,R,I,W,J,V,G,K,Q,U,X,Y,Z,te,ne,le,re,oe,se=t[0].name_zh+"",ie=t[0].name+"",ae=t[0].tier+"",ue=ee[t[0].element]?`[${ee[t[0].element]}]`:"",ce=t[0].boss?"👿":"",pe=t[0].arena?"🏟️":"",fe=t[0].view_distance?"👁️":"",me=JSON.stringify({...t[0],context:null},null," ")+"",de=t[1]&&De(t),he=t[2],ge=[];for(let e=0;e<he.length;e+=1)ge[e]=qe(Se(t,he,e));return{c(){n=f("details"),l=f("summary"),r=f("ruby"),o=f("rb"),s=m(se),i=d(),b=f("rt"),$=m(ie),_=d(),x=f("a"),k=f("sup"),w=m("★"),S=m(ae),C=d(),D=f("div"),E=f("div"),L=d(),de&&de.c(),q=d();for(let e=0;e<ge.length;e+=1)ge[e].c();z=d(),B=f("div"),M=f("div"),P=d(),T=f("div"),N=m(ue),F=d(),H=f("div"),R=m(ce),I=d(),W=f("div"),J=m(pe),V=d(),G=f("div"),K=m(fe),Q=d(),U=f("div"),X=f("div"),Y=f("details"),Z=f("summary"),te=d(),ne=f("pre"),le=m(me),v(b,"class","svelte-ky1493"),v(r,"class","svelte-ky1493"),v(k,"class","svelte-ky1493"),v(x,"href",j="https://orna.guide/items?show="+t[0].id),v(x,"target","orna.guide"),v(E,"class","item-img-box svelte-ky1493"),v(E,"style",O=`--bg: url(${$e(t[0])}); --bg-fallback: url(${$e(t[0],"small")})`),v(M,"class","item-equipped svelte-ky1493"),v(M,"data-by",A=t[0].equipped_by),v(T,"class","item-char svelte-ky1493"),v(H,"class","item-char svelte-ky1493"),v(W,"class","item-char svelte-ky1493"),v(G,"class","item-char svelte-ky1493"),v(B,"class","rt-box svelte-ky1493"),v(D,"class","item-info svelte-ky1493"),v(l,"class","summary svelte-ky1493"),v(Z,"class","text-right"),v(ne,"class","item-pre svelte-ky1493"),v(X,"class","item-more svelte-ky1493"),v(n,"class","item-details svelte-ky1493")},m(e,c){u(e,n,c),a(n,l),a(l,r),a(r,o),a(o,s),a(r,i),a(r,b),a(b,$),a(l,_),a(l,x),a(x,k),a(k,w),a(k,S),a(l,C),a(l,D),a(D,E),a(D,L),de&&de.m(D,null),a(D,q);for(let e=0;e<ge.length;e+=1)ge[e].m(D,null);a(D,z),a(D,B),a(B,M),a(B,P),a(B,T),a(T,N),a(B,F),a(B,H),a(H,R),a(B,I),a(B,W),a(W,J),a(B,V),a(B,G),a(G,K),a(n,Q),a(n,U),a(U,X),a(X,Y),a(Y,Z),a(Y,te),a(Y,ne),a(ne,le),re||(oe=h(D,"click",g(t[4])),re=!0)},p(e,[t]){if(1&t&&se!==(se=e[0].name_zh+"")&&y(s,se),1&t&&ie!==(ie=e[0].name+"")&&y($,ie),1&t&&ae!==(ae=e[0].tier+"")&&y(S,ae),1&t&&j!==(j="https://orna.guide/items?show="+e[0].id)&&v(x,"href",j),1&t&&O!==(O=`--bg: url(${$e(e[0])}); --bg-fallback: url(${$e(e[0],"small")})`)&&v(E,"style",O),e[1]?de?de.p(e,t):(de=De(e),de.c(),de.m(D,q)):de&&(de.d(1),de=null),5&t){let n;for(he=e[2],n=0;n<he.length;n+=1){const l=Se(e,he,n);ge[n]?ge[n].p(l,t):(ge[n]=qe(l),ge[n].c(),ge[n].m(D,z))}for(;n<ge.length;n+=1)ge[n].d(1);ge.length=he.length}1&t&&A!==(A=e[0].equipped_by)&&v(M,"data-by",A),1&t&&ue!==(ue=ee[e[0].element]?`[${ee[e[0].element]}]`:"")&&y(N,ue),1&t&&ce!==(ce=e[0].boss?"👿":"")&&y(R,ce),1&t&&pe!==(pe=e[0].arena?"🏟️":"")&&y(J,pe),1&t&&fe!==(fe=e[0].view_distance?"👁️":"")&&y(K,fe),1&t&&me!==(me=JSON.stringify({...e[0],context:null},null," ")+"")&&y(le,me)},i:e,o:e,d(e){e&&c(n),de&&de.d(),p(ge,e),re=!1,oe()}}}function Be(e,t,n){let l;i(e,oe,(e=>n(5,l=e)));let{item:r}=t,o=r.stats;return o&&(o=Object.keys(o).map((e=>({prop:e,value:o[e].base})))),e.$$set=e=>{"item"in e&&n(0,r=e.item)},[r,o,[["causes","🗡️"],["prevents","🛡️"],["gives","🔋"],["cures","❤️‍🩹"]],function(){console.log(l),oe.set({open:!0,item:r,stats:o})},function(t){j.call(this,e,t)}]}class Me extends X{constructor(e){super(),U(this,e,Be,ze,s,{item:0})}}function Ae(e,t,n){const l=e.slice();return l[7]=t[n],l[8]=t,l[9]=n,l}function Pe(e){let t,n,l,r,o,s,i,b,$,_,x,k,w,S,j=e[0].item.name_zh+"",C=e[1],D=[];for(let t=0;t<C.length;t+=1)D[t]=Te(Ae(e,C,t));return{c(){t=f("form"),n=f("table"),l=f("caption"),r=m("品質試算\n            "),o=f("br"),s=m("\n            [ "),i=m(j),b=m(" ]"),$=d();for(let e=0;e<D.length;e+=1)D[e].c();_=d(),x=f("div"),k=f("button"),k.textContent="Reset",v(l,"class","svelte-1o43v9f"),v(n,"class","assess-table svelte-1o43v9f"),v(k,"type","reset"),v(x,"class","text-right")},m(c,p){u(c,t,p),a(t,n),a(n,l),a(l,r),a(l,o),a(l,s),a(l,i),a(l,b),a(n,$);for(let e=0;e<D.length;e+=1)D[e].m(n,null);a(t,_),a(t,x),a(x,k),w||(S=h(k,"click",g(e[3])),w=!0)},p(e,t){if(1&t&&j!==(j=e[0].item.name_zh+"")&&y(i,j),2&t){let l;for(C=e[1],l=0;l<C.length;l+=1){const r=Ae(e,C,l);D[l]?D[l].p(r,t):(D[l]=Te(r),D[l].c(),D[l].m(n,null))}for(;l<D.length;l+=1)D[l].d(1);D.length=C.length}},d(e){e&&c(t),p(D,e),w=!1,S()}}}function Te(e){let t,n,l,o,s,i,p,g,_,x,k,w,S,j,C,D,E,O,L,q,z=e[7].prop+"",B=Fe(e[7])+"";function M(){e[4].call(i,e[8],e[9])}function A(){e[5].call(w,e[8],e[9])}return{c(){t=f("tr"),n=f("th"),l=m(z),o=d(),s=f("td"),i=f("input"),_=d(),x=f("br"),k=d(),w=f("input"),C=d(),D=f("td"),E=m(B),O=d(),v(n,"class","svelte-1o43v9f"),v(i,"type","number"),v(i,"max",p=e[7].max),v(i,"min",g=e[7].min),v(i,"step","1"),v(i,"class","svelte-1o43v9f"),v(w,"type","range"),v(w,"max",S=e[7].max),v(w,"min",j=e[7].min),v(w,"step","1"),v(w,"class","svelte-1o43v9f"),v(s,"class","text-center svelte-1o43v9f"),v(D,"class","svelte-1o43v9f")},m(r,c){u(r,t,c),a(t,n),a(n,l),a(t,o),a(t,s),a(s,i),$(i,e[7].value),a(s,_),a(s,x),a(s,k),a(s,w),$(w,e[7].value),a(t,C),a(t,D),a(D,E),a(t,O),L||(q=[h(i,"input",M),h(w,"change",A),h(w,"input",A)],L=!0)},p(t,n){e=t,2&n&&z!==(z=e[7].prop+"")&&y(l,z),2&n&&p!==(p=e[7].max)&&v(i,"max",p),2&n&&g!==(g=e[7].min)&&v(i,"min",g),2&n&&b(i.value)!==e[7].value&&$(i,e[7].value),2&n&&S!==(S=e[7].max)&&v(w,"max",S),2&n&&j!==(j=e[7].min)&&v(w,"min",j),2&n&&$(w,e[7].value),2&n&&B!==(B=Fe(e[7])+"")&&y(E,B)},d(e){e&&c(t),L=!1,r(q)}}}function Ne(t){let n,l,r,o,s,i,p,m=t[0].item&&Pe(t);return{c(){n=f("div"),l=f("div"),r=d(),o=f("main"),m&&m.c(),v(l,"class","overlay svelte-1o43v9f"),v(o,"class","content svelte-1o43v9f"),v(n,"class","dialog svelte-1o43v9f"),n.hidden=s=!t[0].open},m(e,s){u(e,n,s),a(n,l),a(n,r),a(n,o),m&&m.m(o,null),i||(p=h(l,"click",t[2]),i=!0)},p(e,[t]){e[0].item?m?m.p(e,t):(m=Pe(e),m.c(),m.m(o,null)):m&&(m.d(1),m=null),1&t&&s!==(s=!e[0].open)&&(n.hidden=s)},i:e,o:e,d(e){e&&c(n),m&&m.d(),i=!1,p()}}}function Fe(e){return`${(100*e.value/e.oValue).toFixed(1)}%`}function He(e,t,n){let l,r;return i(e,oe,(e=>n(0,r=e))),e.$$.update=()=>{var t;1&e.$$.dirty&&r&&r.stats&&(t=r.stats,n(1,l=t.map((e=>({prop:ee[e.prop]||e.prop,value:e.value,oValue:e.value,max:2*e.value,min:~~(.7*e.value)})))))},n(1,l=[]),[r,l,function(){!function(e,t,n=t){e.set(n)}(oe,r={open:!1},r)},function(){n(1,l=l.map((e=>({...e,value:e.oValue}))))},function(e,t){e[t].value=b(this.value),n(1,l)},function(e,t){e[t].value=b(this.value),n(1,l)}]}class Re extends X{constructor(e){super(),U(this,e,He,Ne,s,{})}}function Ie(e,t,n){const l=e.slice();return l[18]=t[n],l}function We(e,t,n){const l=e.slice();return l[21]=t[n],l}function Je(e,t,n){const l=e.slice();return l[24]=t[n],l}function Ve(e,n){let l,r,o,s;const i=[n[24]];let p={};for(let e=0;e<i.length;e+=1)p=t(p,i[e]);return r=new ye({props:p}),{key:e,first:null,c(){l=f("li"),V(r.$$.fragment),o=d(),this.first=l},m(e,t){u(e,l,t),G(r,l,null),a(l,o),s=!0},p(e,t){n=e;const l=32&t?function(e,t){const n={},l={},r={$$scope:1};let o=e.length;for(;o--;){const s=e[o],i=t[o];if(i){for(const e in s)e in i||(l[e]=1);for(const e in i)r[e]||(n[e]=i[e],r[e]=1);e[o]=i}else for(const e in s)r[e]=1}for(const e in l)e in n||(n[e]=void 0);return n}(i,[(o=n[24],"object"==typeof o&&null!==o?o:{})]):{};var o;r.$set(l)},i(e){s||(R(r.$$.fragment,e),s=!0)},o(e){I(r.$$.fragment,e),s=!1},d(e){e&&c(l),K(r)}}}function Ge(e){let t,n,l,o,s,i,g,x,w,S,j,C,D,E,O,L,q,B,M,A,P,T,N,V,G,K=e[0].length+"",Q=[],U=new Map,X=e[7],Y=[];for(let t=0;t<X.length;t+=1)Y[t]=Ke(We(e,X,t));let Z=e[0].slice(0,e[4]);const ee=e=>e[18].id;for(let t=0;t<Z.length;t+=1){let n=Ie(e,Z,t),l=ee(n);U.set(l,Q[t]=Qe(l,n))}return{c(){t=f("div"),n=f("div"),l=m("排序:\n      "),o=f("select");for(let e=0;e<Y.length;e+=1)Y[e].c();s=d(),i=f("input"),g=d(),x=f("details"),w=f("summary"),S=m("顯示數量\n        "),j=f("input"),C=m("\n        / "),D=m(K),E=d(),O=f("div"),L=m("總數\n        "),q=f("input"),B=m("\n        以下秀圖"),M=d(),A=f("hr"),P=d(),T=f("ul");for(let e=0;e<Q.length;e+=1)Q[e].c();void 0===e[1]&&z((()=>e[11].call(o))),v(i,"id","sortDir"),v(i,"type","checkbox"),v(i,"class","svelte-p2hn9j"),v(j,"class","text-center"),v(j,"type","number"),v(j,"min","5"),v(j,"max","2000"),v(j,"step","5"),v(q,"class","text-center"),v(q,"type","number"),v(q,"min","1"),v(q,"max","50"),v(t,"class","nav svelte-p2hn9j"),v(T,"class","items svelte-p2hn9j"),k(T,"showDetails",e[6])},m(r,c){u(r,t,c),a(t,n),a(n,l),a(n,o);for(let e=0;e<Y.length;e+=1)Y[e].m(o,null);_(o,e[1]),a(n,s),a(n,i),i.checked=e[2],a(t,g),a(t,x),a(x,w),a(w,S),a(w,j),$(j,e[4]),a(w,C),a(w,D),a(x,E),a(x,O),a(O,L),a(O,q),$(q,e[3]),a(O,B),u(r,M,c),u(r,A,c),u(r,P,c),u(r,T,c);for(let e=0;e<Q.length;e+=1)Q[e].m(T,null);N=!0,V||(G=[h(o,"change",e[11]),h(i,"change",e[12]),h(j,"input",e[13]),h(q,"input",e[14])],V=!0)},p(e,t){if(128&t){let n;for(X=e[7],n=0;n<X.length;n+=1){const l=We(e,X,n);Y[n]?Y[n].p(l,t):(Y[n]=Ke(l),Y[n].c(),Y[n].m(o,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=X.length}130&t&&_(o,e[1]),4&t&&(i.checked=e[2]),16&t&&b(j.value)!==e[4]&&$(j,e[4]),(!N||1&t)&&K!==(K=e[0].length+"")&&y(D,K),8&t&&b(q.value)!==e[3]&&$(q,e[3]),17&t&&(Z=e[0].slice(0,e[4]),F(),Q=J(Q,t,ee,1,e,Z,U,T,W,Qe,null,Ie),H()),64&t&&k(T,"showDetails",e[6])},i(e){if(!N){for(let e=0;e<Z.length;e+=1)R(Q[e]);N=!0}},o(e){for(let e=0;e<Q.length;e+=1)I(Q[e]);N=!1},d(e){e&&c(t),p(Y,e),e&&c(M),e&&c(A),e&&c(P),e&&c(T);for(let e=0;e<Q.length;e+=1)Q[e].d();V=!1,r(G)}}}function Ke(t){let n;return{c(){n=f("option"),n.__value=t[21].prop,n.value=n.__value,v(n,"label",t[21].label)},m(e,t){u(e,n,t)},p:e,d(e){e&&c(n)}}}function Qe(e,t){let n,l,r,o;return l=new Me({props:{item:t[18]}}),{key:e,first:null,c(){n=f("li"),V(l.$$.fragment),r=d(),v(n,"class","svelte-p2hn9j"),this.first=n},m(e,t){u(e,n,t),G(l,n,null),a(n,r),o=!0},p(e,n){t=e;const r={};17&n&&(r.item=t[18]),l.$set(r)},i(e){o||(R(l.$$.fragment,e),o=!0)},o(e){I(l.$$.fragment,e),o=!1},d(e){e&&c(n),K(l)}}}function Ue(e){let t,n,l,r,o,s,i,p,m,g,b,y,$,_,x,k,w,S,j,C=[],D=new Map,E=e[5];const O=e=>e[24].timestamp;for(let t=0;t<E.length;t+=1){let n=Je(e,E,t),l=O(n);D.set(l,C[t]=Ve(l,n))}let L=e[0].length&&Ge(e);return y=new Re({}),{c(){t=f("div"),n=f("h1"),n.innerHTML='<a href="https://playorna.com/" target="_blank">Orna RPG</a> items lookup tool',l=d(),r=f("aside"),o=f("button"),o.textContent="+過濾條件",s=d(),i=f("ul");for(let e=0;e<C.length;e+=1)C[e].c();p=d(),m=f("hr"),g=d(),L&&L.c(),b=d(),V(y.$$.fragment),$=d(),_=f("hr"),x=d(),k=f("footer"),k.innerHTML='* data &amp; image source: <a href="https://orna.guide/" target="_blank">https://orna.guide/</a>  <br/>\n  * repo: <a href="https://github.com/rplus/orna-lookup" target="_blank">Rplus/orna-lookup</a>',v(n,"class","text-center"),v(t,"class","workspace svelte-p2hn9j"),v(k,"class","svelte-p2hn9j")},m(c,f){u(c,t,f),a(t,n),a(t,l),a(t,r),a(r,o),a(r,s),a(r,i);for(let e=0;e<C.length;e+=1)C[e].m(i,null);a(t,p),a(t,m),a(t,g),L&&L.m(t,null),a(t,b),G(y,t,null),u(c,$,f),u(c,_,f),u(c,x,f),u(c,k,f),w=!0,S||(j=h(o,"click",e[8]),S=!0)},p(e,[n]){32&n&&(E=e[5],F(),C=J(C,n,O,1,e,E,D,i,W,Ve,null,Je),H()),e[0].length?L?(L.p(e,n),1&n&&R(L,1)):(L=Ge(e),L.c(),R(L,1),L.m(t,b)):L&&(F(),I(L,1,1,(()=>{L=null})),H())},i(e){if(!w){for(let e=0;e<E.length;e+=1)R(C[e]);R(L),R(y.$$.fragment,e),w=!0}},o(e){for(let e=0;e<C.length;e+=1)I(C[e]);I(L),I(y.$$.fragment,e),w=!1},d(e){e&&c(t);for(let e=0;e<C.length;e+=1)C[e].d();L&&L.d(),K(y),e&&c($),e&&c(_),e&&c(x),e&&c(k),S=!1,j()}}}function Xe(e,t,n){let l,r,o,s,a,u;i(e,le,(e=>n(10,a=e))),i(e,se,(e=>n(5,u=e)));let c=!1,p=[],f=ie.filter((e=>e.sort)),m="tier";function d(e){let t=a;return!e||!e.length||1===e.length&&null==e[0].rules?.value?t:(e.map((e=>e.rules)).forEach((e=>{e&&(t=function(e,t){let{prop:n,type:l,value:r,comparator:o}=t;if(!r||!e.length)return e;"string"==typeof r&&(r=r.toLowerCase());"checkbox"===l&&(r=Boolean(+r));switch(l){case"checkbox":return r?e.filter((e=>e[n])):e.filter((e=>!e[n]));case"number":return e.filter((e=>{let t=ke(e,n);switch(o){case"+":return t>=r;case"-":return t<=r;default:return t===r}}));case"text":let t=new RegExp(r,"i");return e.filter((e=>t.test(e[n])));default:return e}}(t,e))})),function(e=p){return e.sort(((e,t)=>{let n=l?1:-1,r=ke(e,m),o=ke(t,m);switch("object"==typeof o&&(o=-9999),"object"==typeof r&&(r=-9999),typeof r){case"string":return r.localeCompare(o)*n;case"number":return(r-o)*n;default:return 0}}))}(t))}function h(){se.add({timestamp:+new Date})}return h(),e.$$.update=()=>{1536&e.$$.dirty&&(a.waiting||c||(n(9,c=!0),n(0,p=a))),38&e.$$.dirty&&n(0,p=d(u)),25&e.$$.dirty&&n(6,s=p.length<=o||r<=o)},n(2,l=!0),n(4,r=50),n(3,o=20),[p,m,l,o,r,u,s,f,h,c,a,function(){m=x(this),n(1,m),n(7,f)},function(){l=this.checked,n(2,l)},function(){r=b(this.value),n(4,r)},function(){o=b(this.value),n(3,o)}]}return new class extends X{constructor(e){super(),U(this,e,Xe,Ue,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
