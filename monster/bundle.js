var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,i;function c(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function u(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function g(){return p("")}function $(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t){return function(e){return e.preventDefault(),t.call(this,e)}}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function _(t){i=t}function w(){if(!i)throw new Error("Function called outside component initialization");return i}const x=[],z=[],E=[],S=[],j=Promise.resolve();let O=!1;function N(t){E.push(t)}const C=new Set;let B=0;function A(){const t=i;do{for(;B<x.length;){const t=x[B];B++,_(t),P(t.$$)}for(_(null),x.length=0,B=0;z.length;)z.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];C.has(e)||(C.add(e),e())}E.length=0}while(x.length);for(;S.length;)S.pop()();O=!1,C.clear(),_(t)}function P(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const T=new Set;let D;function J(){D={r:0,c:[],p:D}}function R(){D.r||r(D.c),D=D.p}function L(t,e){t&&t.i&&(T.delete(t),t.i(e))}function I(t,e,n,r){if(t&&t.o){if(T.has(t))return;T.add(t),D.c.push((()=>{T.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const M="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function F(t){t&&t.c()}function H(t,n,o,s){const{fragment:i,on_mount:c,on_destroy:u,after_update:a}=t.$$;i&&i.m(n,o),s||N((()=>{const n=c.map(e).filter(l);u?u.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(N)}function W(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(x.push(t),O||(O=!0,j.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,l,o,s,c,u,a,d=[-1]){const h=i;_(e);const p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(h?h.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||h.$$.root};a&&a(p.root);let m=!1;if(p.ctx=o?o(e,l.props||{},((t,n,...r)=>{const l=r.length?r[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=l)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](l),m&&q(e,t)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();l.intro&&L(e.$$.fragment),H(e,l.target,l.anchor,l.customElement),A()}_(h)}class Q{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const U={Bleeding:"流血",Frozen:"冰凍",Burning:"燃燒",Asleep:"入睡",Paralyzed:"麻痺",Blind:"致盲",Stunned:"暈眩",Rot:"腐敗",Blight:"枯萎",Petrified:"石化",Poisoned:"中毒",Drenched:"濕滑",Cursed:"詛咒",Toxic:"劇毒",Lulled:"安份",Dark:"闇",Water:"水",Fire:"火",Physical:"物",Holy:"光",Earthen:"土",Lightning:"雷",Dragon:"龍",Arcane:"奧",weak_to:"弱點",immune_to:"免疫",resistant_to:"抗性",immune_to_status:"狀態免疫",type:"類別",gives:"附與",causes:"造成",element:"元素"};function K(t){return U[t]||t}function V(t){return{value:t,label:K(t)}}function X(t,e,n){const r=t.slice();return r[2]=e[n],r}function Y(t){let e,n,r,l,o,s,i=t[2].prop+"",c=t[2].value+"";return{c(){e=h("div"),n=h("sup"),r=p(i),l=p(":"),o=m(),s=p(c),k(n,"class","op-5")},m(t,i){a(t,e,i),u(e,n),u(n,r),u(n,l),u(e,o),u(e,s)},p(t,e){2&e&&i!==(i=t[2].prop+"")&&b(r,i),2&e&&c!==(c=t[2].value+"")&&b(s,c)},d(t){t&&f(e)}}}function Z(e){let n,r,l,o,s,i,c,g,$,y,v,_,w,x,z,E,S,j,O,N=e[0].zh+"",C=e[0].name+"",B=e[0].tier+"",A=JSON.stringify(e[0],null,2)+"",P=e[1],T=[];for(let t=0;t<P.length;t+=1)T[t]=Y(X(e,P,t));return{c(){n=h("dt"),r=h("a"),l=h("ruby"),o=h("rb"),s=p(N),i=m(),c=h("rt"),g=p(C),y=m(),v=h("sup"),_=p("★"),w=p(B),x=m(),z=h("dd");for(let t=0;t<T.length;t+=1)T[t].c();E=m(),S=h("details"),j=h("pre"),O=p(A),k(c,"class","op-5"),k(r,"href",$="https://orna.guide/skills?show="+e[0].id),k(r,"target","orna.guide"),k(v,"class","op-5"),k(S,"class","skill-details op-5")},m(t,e){a(t,n,e),u(n,r),u(r,l),u(l,o),u(o,s),u(l,i),u(l,c),u(c,g),u(n,y),u(n,v),u(v,_),u(v,w),a(t,x,e),a(t,z,e);for(let t=0;t<T.length;t+=1)T[t].m(z,null);u(z,E),u(z,S),u(S,j),u(j,O)},p(t,[e]){if(1&e&&N!==(N=t[0].zh+"")&&b(s,N),1&e&&C!==(C=t[0].name+"")&&b(g,C),1&e&&$!==($="https://orna.guide/skills?show="+t[0].id)&&k(r,"href",$),1&e&&B!==(B=t[0].tier+"")&&b(w,B),2&e){let n;for(P=t[1],n=0;n<P.length;n+=1){const r=X(t,P,n);T[n]?T[n].p(r,e):(T[n]=Y(r),T[n].c(),T[n].m(z,E))}for(;n<T.length;n+=1)T[n].d(1);T.length=P.length}1&e&&A!==(A=JSON.stringify(t[0],null,2)+"")&&b(O,A)},i:t,o:t,d(t){t&&f(n),t&&f(x),t&&f(z),d(T,t)}}}function tt(t,e,n){let r,{skill:l}=e;return t.$$set=t=>{"skill"in t&&n(0,l=t.skill)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=["type","gives","causes","element"].map((t=>{let e=l[t];return e?(e.map?e=e.map(K):"string"==typeof e&&(e=K(e)),{prop:K(t),value:e}):null})).filter(Boolean))},[l,r]}class et extends Q{constructor(t){super(),G(this,t,tt,Z,o,{skill:0})}}function nt(e){let n;return{c(){n=h("div"),k(n,"class","ct-chart svelte-1adakld")},m(t,r){a(t,n,r),e[4](n)},p:t,i:t,o:t,d(t){t&&f(n),e[4](null)}}}function rt(t,e,n){let r,l,{types:o=[]}=e,s={};const i={series:[1,1,1,10]};var c;return c=function(t=i){var e=t;n(3,l=new Chartist.Pie(r,e,{height:300},null))},w().$$.on_mount.push(c),t.$$set=t=>{"types"in t&&n(1,o=t.types)},t.$$.update=()=>{if(15&t.$$.dirty){let t=o.reduce(((t,e)=>(t[e]=(t[e]||0)+1,t)),{});n(2,s=Object.keys(t).map((e=>({type:e.replace("Multi-round","詠唱"),count:t[e]}))).sort(((t,e)=>e.count-t.count))),r&&l&&l.update({labels:s.map((t=>`${t.type} ${t.count}`)),series:s.map((t=>t.count))})}},[r,o,s,l,function(t){z[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class lt extends Q{constructor(t){super(),G(this,t,rt,nt,o,{types:1})}}const{Boolean:ot}=M;function st(t,e,n){const r=t.slice();return r[5]=e[n],r}function it(t,e,n){const r=t.slice();return r[8]=e[n],r}function ct(t,e,n){const r=t.slice();return r[11]=e[n],r}function ut(t,e,n){const r=t.slice();return r[14]=e[n],r}function at(t){let e,n,r,l=t[14]+"";return{c(){e=p(l),n=m(),r=h("br")},m(t,l){a(t,e,l),a(t,n,l),a(t,r,l)},p(t,n){4&n&&l!==(l=t[14]+"")&&b(e,l)},d(t){t&&f(e),t&&f(n),t&&f(r)}}}function ft(t){let e,n,r,l,o=t[11].name+"",s=t[11].value,i=[];for(let e=0;e<s.length;e+=1)i[e]=at(ut(t,s,e));return{c(){e=h("dt"),n=p(o),r=h("dd");for(let t=0;t<i.length;t+=1)i[t].c();l=m(),k(e,"class","svelte-1jd0zr1"),k(r,"class","svelte-1jd0zr1")},m(t,o){a(t,e,o),u(e,n),a(t,r,o);for(let t=0;t<i.length;t+=1)i[t].m(r,null);u(r,l)},p(t,e){if(4&e&&o!==(o=t[11].name+"")&&b(n,o),4&e){let n;for(s=t[11].value,n=0;n<s.length;n+=1){const o=ut(t,s,n);i[n]?i[n].p(o,e):(i[n]=at(o),i[n].c(),i[n].m(r,l))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(t){t&&f(e),t&&f(r),d(i,t)}}}function dt(t){let e,n=t[0].skills_effect,r=[];for(let e=0;e<n.length;e+=1)r[e]=ht(it(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);a(t,e,n)},p(t,l){if(1&l){let o;for(n=t[0].skills_effect,o=0;o<n.length;o+=1){const s=it(t,n,o);r[o]?r[o].p(s,l):(r[o]=ht(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){d(r,t),t&&f(e)}}}function ht(t){let e,n,r,l,o,s,i,c,d,g,$=t[8].label+"";return{c(){e=h("li"),n=h("label"),r=h("input"),l=m(),o=p($),s=m(),i=h("a"),c=p("↗"),g=m(),k(r,"type","checkbox"),k(i,"href",d="https://rplus.github.io/orna-lookup/?prevents="+t[8].value),k(i,"target","ornagle"),k(i,"class","svelte-1jd0zr1"),k(n,"class","svelte-1jd0zr1"),k(e,"class","svelte-1jd0zr1")},m(t,f){a(t,e,f),u(e,n),u(n,r),u(n,l),u(n,o),u(n,s),u(n,i),u(i,c),u(e,g)},p(t,e){1&e&&$!==($=t[8].label+"")&&b(o,$),1&e&&d!==(d="https://rplus.github.io/orna-lookup/?prevents="+t[8].value)&&k(i,"href",d)},d(t){t&&f(e)}}}function pt(t){let e,n,r,l,o,s=t[1],i=[];for(let e=0;e<s.length;e+=1)i[e]=mt(st(t,s,e));const c=t=>I(i[t],1,1,(()=>{i[t]=null}));return{c(){e=h("details"),n=h("summary"),n.textContent="Skill Details",r=m(),l=h("div");for(let t=0;t<i.length;t+=1)i[t].c();e.open=!0,k(e,"class","mb1")},m(t,s){a(t,e,s),u(e,n),u(e,r),u(e,l);for(let t=0;t<i.length;t+=1)i[t].m(l,null);o=!0},p(t,e){if(2&e){let n;for(s=t[1],n=0;n<s.length;n+=1){const r=st(t,s,n);i[n]?(i[n].p(r,e),L(i[n],1)):(i[n]=mt(r),i[n].c(),L(i[n],1),i[n].m(l,null))}for(J(),n=s.length;n<i.length;n+=1)c(n);R()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)L(i[t]);o=!0}},o(t){i=i.filter(ot);for(let t=0;t<i.length;t+=1)I(i[t]);o=!1},d(t){t&&f(e),d(i,t)}}}function mt(t){let e,n;return e=new et({props:{skill:t[5]}}),{c(){F(e.$$.fragment)},m(t,r){H(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.skill=t[5]),e.$set(r)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function gt(t){let e,n,r,l,o,s,i,g,$,y,v,_,w,x,z,E,S,j,O,N,C,B,A,P,T,D,M,q,G,Q,U,K,V,X,Y,Z,tt,et,nt,rt,ot,st,it,ut,at,ht=t[0].id+"",mt=t[0].zh+"",gt=t[0].name+"",$t=t[0].tier+"",yt=JSON.stringify(t[0],null,2)+"",kt=t[2],bt=[];for(let e=0;e<kt.length;e+=1)bt[e]=ft(ct(t,kt,e));let vt=t[0].skills_effect&&dt(t);V=new lt({props:{types:t[3]}});let _t=t[0].skills&&pt(t);return{c(){e=h("section"),n=h("header"),r=h("a"),l=p("⚓"),s=p("\n    #"),i=p(ht),g=p(" -\n    "),$=h("a"),y=h("ruby"),v=h("rb"),_=p(mt),w=m(),x=h("rt"),z=p(gt),S=m(),j=h("sup"),O=p("★"),N=p($t),C=m(),B=h("img"),T=m(),D=h("div"),M=h("dl");for(let t=0;t<bt.length;t+=1)bt[t].c();q=m(),G=h("ul"),Q=h("li"),Q.innerHTML="Debuffs\n        <hr/>",U=m(),vt&&vt.c(),K=m(),F(V.$$.fragment),X=m(),Y=h("hr"),Z=m(),_t&&_t.c(),tt=m(),et=h("hr"),nt=m(),rt=h("details"),ot=h("summary"),ot.textContent="RAW DATA",st=m(),it=h("pre"),ut=p(yt),k(r,"href",o="./?id="+t[0].id),k(x,"class","op-5"),k($,"href",E="https://orna.guide/monsters?show="+t[0].id),k($,"target","orna.guide"),k(n,"class","mb1"),k(B,"class","avatar svelte-1jd0zr1"),c(B.src,A="https://playorna.com/static/img/"+t[0].image)||k(B,"src",A),k(B,"alt",P=t[0].zh),k(Q,"class","svelte-1jd0zr1"),k(D,"class","info flex text-start svelte-1jd0zr1"),k(rt,"class","op-5")},m(t,o){a(t,e,o),u(e,n),u(n,r),u(r,l),u(n,s),u(n,i),u(n,g),u(n,$),u($,y),u(y,v),u(v,_),u(y,w),u(y,x),u(x,z),u(n,S),u(n,j),u(j,O),u(j,N),u(e,C),u(e,B),u(e,T),u(e,D),u(D,M);for(let t=0;t<bt.length;t+=1)bt[t].m(M,null);u(D,q),u(D,G),u(G,Q),u(G,U),vt&&vt.m(G,null),u(e,K),H(V,e,null),u(e,X),u(e,Y),u(e,Z),_t&&_t.m(e,null),u(e,tt),u(e,et),u(e,nt),u(e,rt),u(rt,ot),u(rt,st),u(rt,it),u(it,ut),at=!0},p(t,[n]){if((!at||1&n&&o!==(o="./?id="+t[0].id))&&k(r,"href",o),(!at||1&n)&&ht!==(ht=t[0].id+"")&&b(i,ht),(!at||1&n)&&mt!==(mt=t[0].zh+"")&&b(_,mt),(!at||1&n)&&gt!==(gt=t[0].name+"")&&b(z,gt),(!at||1&n&&E!==(E="https://orna.guide/monsters?show="+t[0].id))&&k($,"href",E),(!at||1&n)&&$t!==($t=t[0].tier+"")&&b(N,$t),(!at||1&n&&!c(B.src,A="https://playorna.com/static/img/"+t[0].image))&&k(B,"src",A),(!at||1&n&&P!==(P=t[0].zh))&&k(B,"alt",P),4&n){let e;for(kt=t[2],e=0;e<kt.length;e+=1){const r=ct(t,kt,e);bt[e]?bt[e].p(r,n):(bt[e]=ft(r),bt[e].c(),bt[e].m(M,null))}for(;e<bt.length;e+=1)bt[e].d(1);bt.length=kt.length}t[0].skills_effect?vt?vt.p(t,n):(vt=dt(t),vt.c(),vt.m(G,null)):vt&&(vt.d(1),vt=null);const l={};8&n&&(l.types=t[3]),V.$set(l),t[0].skills?_t?(_t.p(t,n),1&n&&L(_t,1)):(_t=pt(t),_t.c(),L(_t,1),_t.m(e,tt)):_t&&(J(),I(_t,1,1,(()=>{_t=null})),R()),(!at||1&n)&&yt!==(yt=JSON.stringify(t[0],null,2)+"")&&b(ut,yt)},i(t){at||(L(V.$$.fragment,t),L(_t),at=!0)},o(t){I(V.$$.fragment,t),I(_t),at=!1},d(t){t&&f(e),d(bt,t),vt&&vt.d(),W(V),_t&&_t.d()}}}function $t(t,e){return e.tier-t.tier}function yt(t,e,n){let r,l,o,{monster:s}=e,{skills:i}=e;return t.$$set=t=>{"monster"in t&&n(0,s=t.monster),"skills"in t&&n(4,i=t.skills)},t.$$.update=()=>{17&t.$$.dirty&&n(1,r=s.skills?.map((t=>i.find((e=>e.id===t)))).sort($t)||[]),2&t.$$.dirty&&n(3,l=r.map((t=>t.type))),1&t.$$.dirty&&n(2,o=["weak_to","immune_to","resistant_to","immune_to_status"].map((t=>{let e=s[t];return e?(e.map&&(e=e.map(K)),{prop:t,name:K(t),value:e}):null})).filter(Boolean))},[s,r,o,l,i]}class kt extends Q{constructor(t){super(),G(this,t,yt,gt,o,{monster:0,skills:4})}}function bt(t,e){const n=["name","zh","image","type","element","description"];[t,e].forEach((t=>{t.forEach((t=>{for(let e in t)t[e]?-1===n.indexOf(e)&&(t[e]=JSON.parse(t[e])):delete t[e],t.zh||(t.zh=t.name)}))}));return t.forEach((t=>{if(!t.skills)return;let n=[...new Set(t.skills.map((t=>{return(n=t,e.find((t=>t.id===n)))?.causes;var n})).filter(Boolean).flat())];n.length&&(t.skills_effect=n.map(V).sort(((t,e)=>t.label.localeCompare(e.label))))})),{monsters:t,skills:e}}const vt="Orna/monster";function _t(t){let e=localStorage.getItem(vt);return e?(e=JSON.parse(e),t?e[t]:e):null}function wt(t,e,n){const r=t.slice();return r[15]=e[n],r}function xt(t,e,n){const r=t.slice();return r[1]=e[n],r}function zt(e){let n,r,l=e[20].message+"";return{c(){var t,e,o;n=h("p"),r=p(l),t="color",e="red",n.style.setProperty(t,e,o?"important":"")},m(t,e){a(t,n,e),u(n,r)},p:t,i:t,o:t,d(t){t&&f(n)}}}function Et(t){let e,n,l,o,s,i,c,p,g,b,_,w,x,z,E,S,j,O,N,C=t[0],B=[];for(let e=0;e<C.length;e+=1)B[e]=St(xt(t,C,e));let A=t[4],P=[];for(let e=0;e<A.length;e+=1)P[e]=jt(wt(t,A,e));return S=new kt({props:{monster:t[1],skills:t[3]}}),{c(){e=h("form"),n=h("input"),l=m(),o=h("datalist");for(let t=0;t<B.length;t+=1)B[t].c();s=m(),i=h("input"),c=m(),p=h("aside"),g=h("details"),b=h("summary"),b.textContent="History",_=m(),w=h("ul");for(let t=0;t<P.length;t+=1)P[t].c();x=m(),z=h("hr"),E=m(),F(S.$$.fragment),k(n,"list","monster_name"),k(n,"type","search"),k(n,"pattern","[1-5]?[0-9]?[0-9]"),k(n,"title","1~500 數字"),k(o,"id","monster_name"),k(i,"type","submit"),i.value="Q",k(e,"class","form"),k(p,"class","history")},m(r,f){a(r,e,f),u(e,n),v(n,t[2]),u(e,l),u(e,o);for(let t=0;t<B.length;t+=1)B[t].m(o,null);u(e,s),u(e,i),a(r,c,f),a(r,p,f),u(p,g),u(g,b),u(g,_),u(g,w);for(let t=0;t<P.length;t+=1)P[t].m(w,null);a(r,x,f),a(r,z,f),a(r,E,f),H(S,r,f),j=!0,O||(N=[$(n,"input",t[10]),$(e,"submit",y(t[6]))],O=!0)},p(t,e){if(4&e&&v(n,t[2]),32&e){let n;for(C=t[0],n=0;n<C.length;n+=1){const r=xt(t,C,n);B[n]?B[n].p(r,e):(B[n]=St(r),B[n].c(),B[n].m(o,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=C.length}if(144&e){let n;for(A=t[4],n=0;n<A.length;n+=1){const r=wt(t,A,n);P[n]?P[n].p(r,e):(P[n]=jt(r),P[n].c(),P[n].m(w,null))}for(;n<P.length;n+=1)P[n].d(1);P.length=A.length}const r={};2&e&&(r.monster=t[1]),8&e&&(r.skills=t[3]),S.$set(r)},i(t){j||(L(S.$$.fragment,t),j=!0)},o(t){I(S.$$.fragment,t),j=!1},d(t){t&&f(e),d(B,t),t&&f(c),t&&f(p),d(P,t),t&&f(x),t&&f(z),t&&f(E),W(S,t),O=!1,r(N)}}}function St(e){let n,r,l,o,s,i,c,d,g=e[1].zh+"",$=e[1].name+"",y=e[1].tier+"";return{c(){n=h("option"),r=p(g),l=p(" - "),o=p($),s=p(" / T"),i=p(y),c=m(),n.__value=d=e[1].id,n.value=n.__value},m(t,e){a(t,n,e),u(n,r),u(n,l),u(n,o),u(n,s),u(n,i),u(n,c)},p:t,d(t){t&&f(n)}}}function jt(t){let e,n,r,l,o,s,i,c,d,g=t[15].id+"",v=t[15].zh+"";function _(){return t[11](t[15])}return{c(){e=h("li"),n=h("a"),r=p(g),l=p(" - "),o=p(v),i=m(),k(n,"href",s="./?id="+t[15].id)},m(t,s){a(t,e,s),u(e,n),u(n,r),u(n,l),u(n,o),u(e,i),c||(d=$(n,"click",y(_)),c=!0)},p(e,l){t=e,16&l&&g!==(g=t[15].id+"")&&b(r,g),16&l&&v!==(v=t[15].zh+"")&&b(o,v),16&l&&s!==(s="./?id="+t[15].id)&&k(n,"href",s)},d(t){t&&f(e),c=!1,d()}}}function Ot(e){let n;return{c(){n=h("p"),n.textContent="...waiting"},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function Nt(t){let e,n,r,l,o={ctx:t,current:null,token:null,hasCatch:!0,pending:Ot,then:Et,catch:zt,value:0,error:20,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,l,o){if(e.token!==n)return;e.resolved=o;let s=e.ctx;void 0!==l&&(s=s.slice(),s[l]=o);const i=t&&(e.current=t)(s);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(J(),I(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),R())})):e.block.d(1),i.c(),L(i,1),i.m(e.mount(),e.anchor),c=!0),e.block=i,e.blocks&&(e.blocks[r]=i),c&&A()}if((l=t)&&"object"==typeof l&&"function"==typeof l.then){const n=w();if(t.then((t=>{_(n),r(e.then,1,e.value,t),_(null)}),(t=>{if(_(n),r(e.catch,2,e.error,t),_(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var l}(t[5],o),{c(){e=h("h2"),e.textContent="Monsters Strategy | Orna RPG",n=m(),r=g(),o.block.c()},m(t,s){a(t,e,s),a(t,n,s),a(t,r,s),o.block.m(t,o.anchor=s),o.mount=()=>r.parentNode,o.anchor=r,l=!0},p(e,[n]){!function(t,e,n){const r=e.slice(),{resolved:l}=t;t.current===t.then&&(r[t.value]=l),t.current===t.catch&&(r[t.error]=l),t.block.p(r,n)}(o,t=e,n)},i(t){l||(L(o.block),l=!0)},o(t){for(let t=0;t<3;t+=1){I(o.blocks[t])}l=!1},d(t){t&&f(e),t&&f(n),t&&f(r),o.block.d(t),o.token=null,o=null}}}async function Ct(t){const e=await fetch(t);if(e.ok){const t=await e.json();if(!t.length)throw new Error("empty data");return t}throw new Error(data)}function Bt(t,e,n){let r,l,o,s=_t("historyId")||[],i=+(new URLSearchParams(location.search).get("id")||s[0]||404),c=i,u=[],a=async function(){const t=await Ct("./monster.json"),e=await Ct("./skill.json");if(!e||!t)throw new Error("_ERROR_: fetch data fails");const r=bt(t,e);return n(3,u=r.skills),n(0,l=r.monsters),l}();function f(t,e=l){return e.find((e=>e.id===+t))}function d(t){n(9,i=t)}return t.$$.update=()=>{513&t.$$.dirty&&n(1,o=f(+i,l)),258&t.$$.dirty&&o&&(s.unshift(o.id),n(8,s=[...new Set(s)].slice(0,5)),function(t){if(!t||!t.key)return!1;let e=_t()||{};e[t.key]=t.value,localStorage.setItem(vt,JSON.stringify(e))}({key:"historyId",value:s})),256&t.$$.dirty&&n(4,r=s.map((t=>f(t))))},n(0,l=[]),[l,o,c,u,r,a,function(){let t=!isNaN(c)&&+c;t&&n(9,i=t)},d,s,i,function(){c=this.value,n(2,c)},t=>d(t.id)]}return new class extends Q{constructor(t){super(),G(this,t,Bt,Nt,o,{})}}({target:document.getElementById("app")})}();
